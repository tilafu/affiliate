<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <title data-i18n-title="dashboardPageTitle">Dashboard</title>
    <meta name="csrf-token" content="cMnbgu3d14TqQm9u7lWoeRN4awsdQMKFm6tCJ2zU">
    <link rel="shortcut icon" href="./assets/uploads/generals/favicon-665b8c8a863b91717275786.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./dashboard.css">
    
    <style>
        :root {
            --primary-blue: #007AFF;
            --secondary-blue: #5AC8FA;
            --success-green: #30D158;
            --warning-orange: #FF9500;
            --danger-red: #FF3B30;
            --purple: #5856D6;
            --pink: #FF2D92;
            --background: #F2F2F7;
            --card-background: #FFFFFF;
            --text-primary: #000000;
            --text-secondary: #8E8E93;
            --border-color: #E5E5EA;
            --shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            --shadow-hover: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: var(--card-background);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .header .container {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }        .user-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .menu-btn {
            background: none;
            border: none;
            font-size: 1.25rem;
            color: var(--text-primary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .menu-btn:hover {
            background: var(--background);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-details h6 {
            margin: 0;
            font-weight: 600;
            font-size: 16px;
        }

        .user-details p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 14px;
        }        .notification-btn {
            position: relative;
            background: var(--background);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
            transition: all 0.3s ease;
        }

        .notification-btn:hover {
            background: var(--border-color);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .login-btn {
            background: var(--primary-blue);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
        }        .login-btn:hover {
            background: var(--secondary-blue);
            transform: translateY(-1px);
        }

        /* Sidebar Overlay */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }        /* Sidebar base styles */
        .main-sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 300px;
            height: 100vh;
            background: var(--card-background);
            z-index: 1000;
            box-shadow: var(--shadow);
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .main-sidebar.active {
            transform: translateX(0);
        }

        /* Sidebar overlay */
        .bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .bg-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Close button styles */
        .sidebar-header {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-primary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: var(--background);
        }

        /* Responsive sidebar styles */
        @media (max-width: 768px) {
            .main-sidebar {
                width: 280px;
            }
        }

        .notification-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            background: var(--danger-red);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* Main Content */
        .main-content {
            padding: 1.5rem 0;
        }

        /* Balance Card */
        .balance-card {
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 20px;
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }

        .balance-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .balance-card .balance-label {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .balance-amount {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .balance-change {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 14px;
        }

        .balance-change.positive {
            color: var(--success-green);
        }

        /* Transaction Section */
        .section-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
        }

        .view-all-btn {
            color: var(--primary-blue);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
        }        /* Enhanced Transaction Cards with Images */
        .transaction-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .transaction-card {
            position: relative;
            background: var(--card-background);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }

        .transaction-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-hover);
            text-decoration: none;
            color: inherit;
        }

        .transaction-card-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            position: relative;
        }

        .transaction-card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .transaction-card-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .transaction-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 20px;
            position: absolute;
            top: 16px;
            right: 16px;
            z-index: 5;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .transaction-icon.deposits {
            color: var(--success-green);
            border: 2px solid rgba(48, 209, 88, 0.3);
        }

        .transaction-icon.withdraws {
            color: var(--danger-red);
            border: 2px solid rgba(255, 59, 48, 0.3);
        }

        .transaction-icon.faqs {
            color: var(--warning-orange);
            border: 2px solid rgba(255, 149, 0, 0.3);
        }

        .transaction-icon.tutorials {
            color: var(--primary-blue);
            border: 2px solid rgba(0, 122, 255, 0.3);
        }

        .transaction-card h6 {
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .transaction-card p {
            color: var(--primary-blue);
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        .transaction-card-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .transaction-status {
            font-size: 0.85rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .transaction-arrow {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        /* Financial Banner Section */
        .financial-banner-section {
            margin-bottom: 2rem;
        }

        .financial-banner-card {
            position: relative;
            background: var(--card-background);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
            min-height: 160px;
        }

        .financial-banner-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
            text-decoration: none;
            color: inherit;
        }

        .financial-banner-image {
            width: 100%;
            height: 160px;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        .financial-banner-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.85), rgba(90, 200, 250, 0.75));
            z-index: 2;
        }

        .financial-banner-content {
            position: relative;
            z-index: 3;
            padding: 2rem;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 160px;
        }

        .financial-banner-info h3 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: white;
        }

        .financial-banner-info p {
            font-size: 1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            color: white;
        }

        .financial-banner-stats {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            color: white;
            font-weight: 500;
        }

        .financial-banner-cta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.875rem 1.5rem;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .financial-banner-cta:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(4px);
        }

        /* Mobile responsiveness for financial banner */
        @media (max-width: 768px) {
            .financial-banner-content {
                flex-direction: column;
                text-align: center;
                padding: 1.5rem;
                gap: 1rem;
            }

            .financial-banner-info h3 {
                font-size: 1.5rem;
            }

            .financial-banner-info p {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }

            .financial-banner-stats {
                flex-direction: column;
                gap: 1rem;
            }

            .stat-value {
                font-size: 1.25rem;
            }

            .financial-banner-cta {
                padding: 0.75rem 1.25rem;
                font-size: 0.9rem;
            }
        }

        /* Progress Section */
        .progress-section {
            background: var(--card-background);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }

        .progress-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .progress-title {
            font-size: 18px;
            font-weight: 700;
            margin: 0;
        }

        .progress-circles {
            display: flex;
            gap: 2rem;
            justify-content: center;
        }

        .progress-circle {
            text-align: center;
        }

        .circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
            position: relative;
            background: conic-gradient(var(--primary-blue) 0deg, var(--border-color) 0deg);
        }

        .circle::before {
            content: '';
            position: absolute;
            inset: 8px;
            border-radius: 50%;
            background: var(--card-background);
        }

        .circle-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .circle-number {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .circle-label {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }        /* Enhanced CTA Section with Image */
        .cta-section {
            background: linear-gradient(135deg, var(--purple), var(--pink));
            border-radius: 20px;
            overflow: hidden;
            color: white;
            margin-bottom: 2rem;
            position: relative;
            min-height: 200px;
            display: flex;
            align-items: center;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(88, 86, 214, 0.8), rgba(255, 45, 146, 0.8));
            z-index: 1;
        }

        .cta-content-wrapper {
            position: relative;
            z-index: 2;
            width: 100%;
            display: flex;
            align-items: center;
            gap: 2rem;
            padding: 2rem;
        }

        .cta-image {
            flex: 0 0 200px;
            width: 600px;
            /* height: 160px; */
            object-fit: cover;
            border-radius: 16px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .cta-content {
            flex: 1;
            text-align: left;
        }

        .cta-section h4 {
            font-weight: 700;
            margin-bottom: 0.75rem;
            font-size: 1.75rem;
        }

        .cta-section p {
            opacity: 0.9;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .cta-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 0.875rem 2.5rem;
            border-radius: 12px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
        }

        .cta-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            text-decoration: none;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Mobile responsiveness for CTA section */
        @media (max-width: 768px) {
            .cta-content-wrapper {
                flex-direction: column;
                text-align: center;
                gap: 1.5rem;
                padding: 1.5rem;
            }

            .cta-image {
                flex: none;
                width: 180px;
                height: 140px;
            }

            .cta-content {
                text-align: center;
            }

            .cta-section h4 {
                font-size: 1.5rem;
            }

            .cta-section p {
                font-size: 1rem;
            }

            .cta-btn {
                padding: 0.75rem 2rem;
                font-size: 0.9rem;
            }
        }

        /* Quick Actions Grid */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }        .quick-action {
            background: var(--card-background);
            border-radius: 16px;
            padding: 0;
            text-align: center;
            text-decoration: none;
            color: inherit;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .quick-action:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
            text-decoration: none;
            color: inherit;
        }

        .quick-action-image {
            width: 100%;
            height: 80px;
            object-fit: cover;
            border-radius: 16px 16px 0 0;
        }

        .quick-action-content {
            padding: 1rem;
        }

        .quick-action-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 20px;
        }

        .quick-action-icon.orders {
            background: rgba(255, 149, 0, 0.1);
            color: var(--warning-orange);
        }

        .quick-action-icon.certificates {
            background: rgba(88, 86, 214, 0.1);
            color: var(--purple);
        }

        .quick-action-icon.memberships {
            background: rgba(255, 45, 146, 0.1);
            color: var(--pink);
        }

        .quick-action-icon.events {
            background: rgba(90, 200, 250, 0.1);
            color: var(--secondary-blue);
        }

        .quick-action h6 {
            font-weight: 600;
            margin-bottom: 0.25rem;
            font-size: 14px;
        }

        .quick-action p {
            color: var(--text-secondary);
            font-size: 12px;
            margin: 0;
        }

        /* Product Catalog Section */
        .product-catalog-section {
            margin: 2rem 0;
        }

        .product-catalog-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .product-catalog-title:hover {
            color: var(--primary-blue);
        }

        .product-catalog-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .product-catalog-card {
            position: relative;
            background: var(--card-background);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            cursor: pointer;
            height: 200px;
        }

        .product-catalog-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            color: inherit;
            text-decoration: none;
        }

        .product-catalog-card-image {
            width: 100%;
            height: 120px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .product-catalog-card:hover .product-catalog-card-image {
            transform: scale(1.05);
        }

        .product-catalog-card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, transparent 40%, rgba(0, 0, 0, 0.7) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-catalog-card:hover .product-catalog-card-overlay {
            opacity: 1;
        }

        .product-catalog-card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.8));
            color: black;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .product-catalog-card:hover .product-catalog-card-content {
            transform: translateY(0);
        }

        .product-catalog-card h6 {
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            /* color: white; */
        }

        .product-catalog-card p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            margin: 0;
        }

        .product-catalog-icon {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: white;
            background: rgba(0, 122, 255, 0.9);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .product-catalog-card:hover .product-catalog-icon {
            transform: scale(1.1);
            background: rgba(0, 122, 255, 1);
        }

        /* Mobile responsiveness for product catalog */
        @media (max-width: 768px) {
            .product-catalog-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .product-catalog-card {
                height: 180px;
            }
            
            .product-catalog-title {
                font-size: 1.3rem;
            }
        }

        /* Bottom Action Cards Section */
        .bottom-actions-section {
            margin: 3rem 0 2rem 0;
        }

        .bottom-actions-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            text-align: center;
        }

        .bottom-actions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .bottom-action-card {
            position: relative;
            background: var(--card-background);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            text-decoration: none;
            color: inherit;
            cursor: pointer;
            height: 250px;
            display: flex;
            flex-direction: column;
        }

        .bottom-action-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-hover);
            color: inherit;
            text-decoration: none;
        }

        .bottom-action-card-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .bottom-action-card:hover .bottom-action-card-image {
            transform: scale(1.05);
        }

        .bottom-action-card-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 140px;
            background: linear-gradient(180deg, transparent 40%, rgba(0, 0, 0, 0.6) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .bottom-action-card:hover .bottom-action-card-overlay {
            opacity: 1;
        }

        .bottom-action-card-content {
            padding: 1.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .bottom-action-card h6 {
            font-weight: 700;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .bottom-action-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.4;
        }

        .bottom-action-card-icon {
            position: absolute;
            top: 16px;
            right: 16px;
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            z-index: 5;
        }

        .bottom-action-card-icon.daily-checkin {
            background: rgba(48, 209, 88, 0.9);
        }

        .bottom-action-card-icon.contract {
            background: rgba(88, 86, 214, 0.9);
        }

        .bottom-action-card-icon.support {
            background: rgba(255, 149, 0, 0.9);
        }

        .bottom-action-card:hover .bottom-action-card-icon {
            transform: scale(1.1);
        }

        .bottom-action-status {
            font-size: 0.8rem;
            color: var(--primary-blue);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            margin-top: auto;
        }

        /* Mobile responsiveness for bottom actions */
        @media (max-width: 768px) {
            .bottom-actions-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .bottom-action-card {
                height: 220px;
            }
            
            .bottom-action-card-image {
                height: 120px;
            }
            
            .bottom-actions-title {
                font-size: 1.3rem;
            }
            
            .bottom-action-card-content {
                padding: 1.25rem;
            }
            
            .bottom-action-card h6 {
                font-size: 1rem;
            }
            
            .bottom-action-card-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
                top: 12px;
                right: 12px;
            }
        }

        /* Product Carousel */
#product-carousel-container { 
    position: relative; 
    width: 100%; 
    margin: 32px auto 24px auto; 
    max-width: 1200px; 
    overflow: hidden; /* Hide overflow for seamless loop */
}

.carousel-title { 
    font-size: 1.3rem; 
    font-weight: 600; 
    margin-bottom: 12px; 
}

#product-carousel {
    display: flex;
    align-items: center;
    gap: 24px;
    padding: 12px 0;
    width: fit-content;
    animation: infinite-scroll 40s linear infinite;
}

/* Pause animation on hover */
#product-carousel:hover {
    animation-play-state: paused;
}

/* Keyframe for infinite scroll */
@keyframes infinite-scroll {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(calc(-100% / 2)); /* Move by half width since we duplicate items */
    }
}
.product-card {
  min-width:220px;
  max-width:220px;
  background:#fff;
  border-radius:16px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:18px 12px 16px 12px;
  position:relative;
  transition:all 0.3s ease;
  cursor: pointer;
}
.product-card:hover {
  transform: translateY(-4px);
  box-shadow:0 8px 25px rgba(0,0,0,0.15);
}
.product-card img {
  width:120px;
  height:120px;
  object-fit:contain;
  border-radius:10px;
  background:#f7f7f7;
  margin-bottom:12px;
}
.product-badge {
  position:absolute;
  top:12px;
  left:12px;
  background:linear-gradient(135deg, #97968c, #777676);
  color:#fffefe;
  font-size:0.75rem;
  border-radius:8px;
  padding:4px 10px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:0.5px;
  box-shadow:0 2px 4px rgba(0,0,0,0.1);
}

.commission-badge {
  position:absolute;
  top:12px;
  right:12px;
  background:linear-gradient(135deg, var(--success-green), #28a745);
  color:white;
  font-size:0.7rem;
  border-radius:6px;
  padding:3px 6px;
  font-weight:600;
  box-shadow:0 2px 4px rgba(48,209,88,0.3);
  z-index:10;
}

.commission-badge.merge-data {
  background:linear-gradient(135deg, #FF6B35, #F7931E);
}
.product-name {
  font-size:0.9rem;
  font-weight:600;
  margin:8px 0 12px 0;
  text-align:center;
  min-height:40px;
  line-height:1.3;
  color:#333;
}
.product-price-btn {
  background:linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
  color:white;
  font-size:1rem;
  font-weight:600;
  padding:8px 16px;
  border-radius:10px;
  margin-bottom:8px;
  box-shadow:0 2px 8px rgba(0,122,255,0.3);
  border:none;
  transition:all 0.3s ease;
}
.product-commission-btn {
  background:linear-gradient(135deg, var(--success-green), #28a745);
  color:white;
  font-size:0.85rem;
  font-weight:500;
  padding:6px 14px;
  border-radius:6px;
  box-shadow:0 2px 6px rgba(48,209,88,0.3);
  border:none;
  transition:all 0.3s ease;
}
.product-card:hover .product-price-btn {
  transform: scale(1.05);
  box-shadow:0 4px 12px rgba(0,122,255,0.4);
}
.product-card:hover .product-commission-btn {
  transform: scale(1.05);
  box-shadow:0 4px 10px rgba(48,209,88,0.4);
}
.product-link {
  text-decoration:none;
  color:inherit;
}
#carousel-left, #carousel-right {
  position:absolute;
  top:50%;
  z-index:2;
  background:#fff;
  border-radius:50%;
  border:1px solid #ccc;
  width:36px;
  height:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.5rem;
  cursor:pointer;
  box-shadow:0 2px 8px #0002;
  transition: all 0.3s ease;
}

#carousel-left:hover, #carousel-right:hover {
  background: #f8f9fa;
  transform: translateY(-50%) scale(1.1);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

#carousel-left {
  left:10px;
  transform:translateY(-50%);
}
#carousel-right {
  right:10px;
  transform:translateY(-50%);
}
#carousel-left:active, #carousel-right:active {
  background:#f0f0f0;
}

        /* Partners Carousel */
#partners-carousel-container { 
    position: relative; 
    width: 100%; 
    margin: 32px auto 24px auto; 
    max-width: 1200px; 
    overflow: hidden;
}

#partners-carousel {
    display: flex;
    align-items: center;
    gap: 32px;
    padding: 12px 0;
    width: fit-content;
    animation: partners-infinite-scroll 30s linear infinite;
}

#partners-carousel:hover {
    animation-play-state: paused;
}

@keyframes partners-infinite-scroll {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(calc(-100% / 2));
    }
}

.partner-card {
    min-width: 180px;
    max-width: 180px;
    height: 120px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    position: relative;
    transition: all 0.3s ease;
    cursor: pointer;
}

.partner-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}

.partner-card img {
    max-width: 100%;
    max-height: 80px;
    object-fit: contain;
    filter: grayscale(20%);
    transition: all 0.3s ease;
}

.partner-card:hover img {
    filter: grayscale(0%);
    transform: scale(1.05);
}

.partner-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(0,122,255,0.05), rgba(90,200,250,0.05));
    border-radius: 12px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.partner-card:hover::before {
    opacity: 1;
}

        /* Testimonials Carousel */
        #testimonials-carousel-container { 
            position: relative; 
            width: 100%; 
            margin: 32px auto 24px auto; 
            max-width: 1200px; 
            overflow: hidden;
        }

        #testimonials-carousel {
            display: flex;
            align-items: stretch;
            gap: 24px;
            padding: 12px 0;
            width: fit-content;
            animation: testimonials-infinite-scroll 50s linear infinite reverse;
        }

        #testimonials-carousel:hover {
            animation-play-state: paused;
        }

        @keyframes testimonials-infinite-scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(calc(-100% / 2));
            }
        }

        .testimonial-card {
            min-width: 320px;
            max-width: 320px;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 24px;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }

        .testimonial-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .testimonial-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,122,255,0.03), rgba(90,200,250,0.03));
            border-radius: 16px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .testimonial-card:hover::before {
            opacity: 1;
        }

        .testimonial-content {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .testimonial-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #333;
            margin-bottom: 20px;
            flex-grow: 1;
            position: relative;
        }

        .testimonial-text::before {
            content: '"';
            font-size: 3rem;
            color: var(--primary-blue);
            position: absolute;
            top: -10px;
            left: -10px;
            font-family: serif;
            opacity: 0.3;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: auto;
        }

        .testimonial-photo {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid rgba(0,122,255,0.1);
            transition: all 0.3s ease;
        }

        .testimonial-card:hover .testimonial-photo {
            border-color: var(--primary-blue);
            transform: scale(1.05);
        }

        .testimonial-info {
            flex: 1;
        }

        .testimonial-name {
            font-weight: 600;
            font-size: 0.9rem;
            color: #333;
            margin-bottom: 2px;
        }

        .testimonial-role {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Mobile responsiveness for testimonials */
        @media (max-width: 768px) {
            #testimonials-carousel-container {
                margin: 20px auto 16px auto;
            }

            .testimonial-card {
                min-width: 280px;
                max-width: 280px;
                padding: 20px;
            }

            .testimonial-text {
                font-size: 0.9rem;
                margin-bottom: 16px;
            }

            .testimonial-photo {
                width: 45px;
                height: 45px;
            }

            .testimonial-name {
                font-size: 0.85rem;
            }

            .testimonial-role {
                font-size: 0.75rem;
            }

            #testimonials-carousel {
                gap: 16px;
            }
        }

        /* Referral Section with Overlay Card Style */
        .referral-hero-section {
            position: relative;
            background: 
                        url('./assets/uploads/images/Drive/workplace-5517743_1280.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 2rem;
            min-height: 200px;
            display: flex;
            align-items: center;
        }

        .referral-hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            /* background: linear-gradient(135deg, rgba(0, 122, 255, 0.7), rgba(90, 200, 250, 0.5)); */
            z-index: 1;
        }

        .referral-overlay-card {
            position: relative;
            z-index: 2;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 24px;
            margin-left: auto;
            margin-right: 20px;
            max-width: 350px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .referral-overlay-card .referral-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .referral-overlay-card .referral-code {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            font-family: 'Monaco', 'Consolas', monospace;
            letter-spacing: 1px;
        }

        .referral-copy-btn {
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 20px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            width: 100%;
            justify-content: center;
        }

        .referral-copy-btn:hover {
            background: #0056d6;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .referral-copy-btn.copied {
            background: var(--success-green);
        }

        .referral-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .referral-stat {
            text-align: center;
        }

        .referral-stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 4px;
        }

        .referral-stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Mobile responsiveness for referral section */
        @media (max-width: 768px) {
            .referral-hero-section {
                min-height: 160px;
                background-position: center center;
            }

            .referral-overlay-card {
                margin: 0 16px;
                max-width: none;
                padding: 20px;
            }

            .referral-overlay-card .referral-code {
                font-size: 1.1rem;
            }

            .referral-stats {
                flex-direction: column;
                gap: 12px;
            }

            .referral-stat {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .referral-stat-number {
                font-size: 1.25rem;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .transaction-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
            }
            
            .progress-circles {
                gap: 1rem;
            }
            
            .circle {
                width: 60px;
                height: 60px;
            }
            
            .balance-amount {
                font-size: 2rem;
            }

            /* Mobile adjustments for carousels */
            #product-carousel-container, #partners-carousel-container {
                margin: 20px auto 16px auto;
            }

            .carousel-title {
                font-size: 1.1rem;
                margin-bottom: 8px;
            }

            .product-card {
                min-width: 180px;
                max-width: 180px;
                padding: 14px 8px 12px 8px;
            }

            .product-card img {
                width: 100px;
                height: 100px;
            }

            .partner-card {
                min-width: 140px;
                max-width: 140px;
                height: 90px;
                padding: 15px;
            }

            .partner-card img {
                max-height: 60px;
            }

            #product-carousel {
                gap: 16px;
            }            #partners-carousel {
                gap: 20px;
            }

            /* Enhanced transaction cards mobile adjustments */
            .transaction-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .transaction-card {
                min-height: 180px;
            }

            .transaction-card-image {
                height: 100px;
            }

            .transaction-card-content {
                padding: 1.25rem;
            }

            .transaction-card h6 {
                font-size: 1rem;
            }

            .transaction-card p {
                font-size: 1.25rem;
            }

            .transaction-icon {
                width: 40px;
                height: 40px;
                font-size: 18px;
                top: 12px;
                right: 12px;
            }

            /* Quick actions mobile adjustments */
            .quick-actions {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .quick-action-image {
                height: 60px;
            }

            .quick-action-content {
                padding: 0.75rem;
            }

            .quick-action-icon {
                width: 40px;
                height: 40px;
                margin-bottom: 0.75rem;
                font-size: 18px;
            }
        }        /* Footer spacing */
        .main-content {
            padding-bottom: 2rem;
        }
    </style>
</head>
<body>    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-left">
                <button class="menu-btn" id="menuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="user-avatar">
                    <span id="userInitials">RA</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="notification-btn" onclick="window.location.href='./chat/'">
                    <i class="far fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>
                </button>
                <button class="login-btn" id="loginBtn" onclick="window.location.href='./login.html'" style="display: none;">
                    <i class="fas fa-sign-in-alt"></i>
                    <span>Login</span>
                </button>
            </div>
        </div>    
    </header>    
    
    <!-- Sidebar -->
    <div id="sidebar-placeholder"></div>
    
    <!-- Sidebar Overlay -->
    <div class="bg-overlay" id="sidebarOverlay"></div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">

            <!-- Quick Actions -->
            <div class="section-header">
                <h2 class="section-title">Quick Actions</h2>
            </div>            
            
            <div class="quick-actions">
                <a href="./orders.html" class="quick-action">
                    <img src="./assets/uploads/images/Drive/drive.jpg" alt="Orders" class="quick-action-image">
                    <div class="quick-action-content">
                        <div class="quick-action-icon orders">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <h6>Orders</h6>
                        <p>Earn Commission</p>
                    </div>
                </a>
                <a href="./certificates.html" class="quick-action">
                    <img src="./assets/uploads/images/Drive/certificates.jpg" alt="Certificates" class="quick-action-image">
                    <div class="quick-action-content">
                        <div class="quick-action-icon certificates">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <h6>Certificates</h6>
                        <p>View certificates</p>
                    </div>
                </a>
                <a href="./memberships.html" class="quick-action">
                    <img src="./assets/uploads/images/Drive/membership.jpg" alt="Memberships" class="quick-action-image">
                    <div class="quick-action-content">
                        <div class="quick-action-icon memberships">
                            <i class="fas fa-crown"></i>
                        </div>
                        <h6>Memberships</h6>
                        <p>Upgrade plan</p>
                    </div>
                </a>
                <a href="./events.html" class="quick-action">
                    <img src="./assets/uploads/images/Drive/events.jpg" alt="Events" class="quick-action-image">
                    <div class="quick-action-content">
                        <div class="quick-action-icon events">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h6>Events</h6>
                        <p>Latest events</p>
                    </div>
                </a>
            </div>     



            <!-- Transaction Section -->
            <div class="section-header d-flex justify-content-between align-items-center">
                <h2 class="section-title">Financials</h2>
                <!-- <span class="text-muted">Loading...</span> -->

            </div>  

            <!-- Featured Financial Banner -->
            <div class="financial-banner-section">
                <a href="./deposits.html" class="financial-banner-card">
                    <div class="position-relative">
                        <img src="./assets/uploads/images/Drive/euro-notes-eur-50.jpg" alt="Financial Overview" class="financial-banner-image">
                        <div class="financial-banner-overlay"></div>
                        <div class="financial-banner-content">
                            <div class="financial-banner-info">
                                <h3>Complete Financial Overview</h3>
                                <p>Track your earnings, withdrawals, and commission history in one place</p>
                                <div class="financial-banner-stats">
                                    <div class="stat-item">
                                        <span class="stat-value" id="totalEarnings">$0.00</span>
                                        <span class="stat-label">Total Earnings</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value" id="thisMonth">$0.00</span>
                                        <span class="stat-label">This Month</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value">24/7</span>
                                        <span class="stat-label">Support</span>
                                    </div>
                                </div>
                            </div>
                            <div class="financial-banner-cta">
                                <i class="fas fa-chart-line"></i>
                                <span>View Details</span>
                                <i class="fas fa-arrow-right"></i>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            
            <div class="transaction-grid">
                <a href="./deposits.html" class="transaction-card">
                    <div class="position-relative">
                        <img src="./assets/uploads/images/Drive/balance.jpg" alt="Available Balance" class="transaction-card-image">
                        <div class="transaction-card-overlay"></div>
                        <div class="transaction-icon deposits">
                            <i class="fas fa-wallet"></i>
                        </div>
                    </div>
                    <div class="transaction-card-content">
                        <div>
                            <h6>Available Balance</h6>
                            <p id="depositBalance">Loading...</p>
                        </div>
                        <div class="transaction-card-footer">
                            <div class="transaction-status">
                                <i class="fas fa-arrow-up"></i>
                                Updated today
                            </div>
                            <div class="transaction-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>
                </a>
                <a href="./withdraws.html" class="transaction-card">
                    <div class="position-relative">
                        <img src="./assets/uploads/images/Drive/withdraw.jpg" alt="Total Withdrawals" class="transaction-card-image">
                        <div class="transaction-card-overlay"></div>
                        <div class="transaction-icon withdraws">
                            <i class="fas fa-minus"></i>
                        </div>
                    </div>
                    <div class="transaction-card-content">
                        <div>
                            <h6>Total Withdrawals</h6>
                            <p id="withdrawBalance">Loading...</p>
                        </div>
                        <div class="transaction-card-footer">
                            <div class="transaction-status">
                                <i class="fas fa-arrow-down"></i>
                                Last 30 days
                            </div>
                            <div class="transaction-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>
                </a>
                <a href="./faqs.html" class="transaction-card">
                    <div class="position-relative">
                        <img src="./assets/uploads/images/Drive/faq.jpg" alt="FAQs" class="transaction-card-image">
                        <div class="transaction-card-overlay"></div>
                        <div class="transaction-icon faqs">
                            <i class="fas fa-question-circle"></i>
                        </div>
                    </div>
                    <div class="transaction-card-content">
                        <div>
                            <h6>FAQs</h6>
                            <p>Find quick answers</p>
                        </div>
                        <div class="transaction-card-footer">
                            <div class="transaction-status">
                                <i class="fas fa-lightbulb"></i>
                                Get help now
                            </div>
                            <div class="transaction-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>
                </a>
                <a href="./tutorials.html" class="transaction-card">
                    <div class="position-relative">
                        <img src="./assets/uploads/images/Drive/tutorial.png" alt="Tutorials" class="transaction-card-image">
                        <div class="transaction-card-overlay"></div>
                        <div class="transaction-icon tutorials">
                            <i class="fas fa-play-circle"></i>
                        </div>
                    </div>
                    <div class="transaction-card-content">
                        <div>
                            <h6>Tutorials</h6>
                            <p>Learn how to earn more</p>
                        </div>
                        <div class="transaction-card-footer">
                            <div class="transaction-status">
                                <i class="fas fa-graduation-cap"></i>
                                Start learning
                            </div>
                            <div class="transaction-arrow">
                                <i class="fas fa-chevron-right"></i>
                            </div>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Progress Section -->
            <!-- <div class="progress-section">
                <div class="progress-header">
                    <h3 class="progress-title">Order Progress</h3>
                    <a href="./orders.html" class="view-all-btn">View All</a>
                </div>
                <div class="progress-circles">
                    <div class="progress-circle">
                        <div class="circle" style="background: conic-gradient(var(--success-green) 216deg, var(--border-color) 0deg);">
                            <div class="circle-content">
                                <div class="circle-number" id="fulfilledOrders">10</div>
                            </div>
                        </div>
                        <div class="circle-label">Fulfilled Orders</div>
                    </div>
                    <div class="progress-circle">
                        <div class="circle" style="background: conic-gradient(var(--warning-orange) 288deg, var(--border-color) 0deg);">
                            <div class="circle-content">
                                <div class="circle-number" id="awaitingOrders">40</div>
                            </div>
                        </div>
                        <div class="circle-label">Awaiting Orders</div>
                    </div>
                </div>
            </div>             -->
            <!-- Enhanced CTA Section with Image -->
            <div class="cta-section">
                <div class="cta-content-wrapper">
                    <img src="./assets/uploads/images/Drive/start-you-drive.jpg" alt="Start Your Drive" class="cta-image">
                    <div class="cta-content">
                        <h4>Start your drive</h4>
                        <p>Earn from our data drives and discover financial freedom with our comprehensive affiliate program</p>
                        <a href="./task.html" class="cta-btn">
                            <i class="fas fa-play"></i>
                            Start Shopping
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- PEA Badge Number Section with Overlay Card Style -->
             
            <!-- Heading -->
            <div class="section-header">
                <h2 class="section-title">Earn More By Referrals</h2>
            </div>

            <div class="referral-hero-section">
                <div class="referral-overlay-card">
                    <div class="referral-label">
                        <i class="fas fa-user-friends"></i>
                        Your PEA Badge Number
                    </div>
                    <div class="referral-code" id="dashboard-refcode">Loading...</div>
                    <button class="referral-copy-btn" id="copy-dashboard-referral">
                        <i class="fas fa-copy"></i>
                        Copy Code
                    </button>
                    <div class="referral-stats">
                        <div class="referral-stat">
                            <div class="referral-stat-label">Invite your friends and earn when they earn. Contact support to learn more about our referral program.</div>
                        </div>
                        <!-- <div class="referral-stat">
                            <div class="referral-stat-number">$245</div>
                            <div class="referral-stat-label">Earned</div>
                        </div> -->
                    </div>
                </div>
            </div>

            <!-- Product Catalog Section -->
            <div class="product-catalog-section">
                <h2 class="product-catalog-title" onclick="window.open('https://example-catalog.com', '_blank')">
                    Product Catalog
                </h2>
                <div class="product-catalog-grid">
                    <a href="https://example-catalog.com/electronics" target="_blank" class="product-catalog-card">
                        <img src="./assets/uploads/images/Drive/catalog1.jpeg" alt="Electronics" class="product-catalog-card-image">
                        <div class="product-catalog-card-overlay"></div>
                        <div class="product-catalog-icon">
                            <i class="fas fa-laptop"></i>
                        </div>
                        <div class="product-catalog-card-content">
                            <h6>Electronics & Tech</h6>
                            <p>Discover the latest gadgets and technology products</p>
                        </div>
                    </a>
                    <a href="https://example-catalog.com/lifestyle" target="_blank" class="product-catalog-card">
                        <img src="./assets/uploads/images/Drive/catalog2.jpeg" alt="Lifestyle Products" class="product-catalog-card-image">
                        <div class="product-catalog-card-overlay"></div>
                        <div class="product-catalog-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="product-catalog-card-content">
                            <h6>Lifestyle & Wellness</h6>
                            <p>Health, beauty, and lifestyle products for modern living</p>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Product Carousel (Top of Dashboard) -->
            <div id="product-carousel-container">
            <div class="carousel-title">Earn Commission</div>
            <div id="product-carousel"></div>
            </div>                        
            
             <!-- Partners Carousel -->
            <div id="partners-carousel-container">
            <div class="carousel-title">Brands We've Partnered With</div>
            <div id="partners-carousel"></div>
            </div>

            <!-- Testimonials Carousel -->
            <div id="testimonials-carousel-container">
                <div class="carousel-title">What Our Members Say</div>
                <div id="testimonials-carousel">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "This platform has transformed my financial journey. The affiliate program is transparent and the earnings are consistent. Highly recommend!"
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/DeWatermark.ai_1751925469667.jpeg" alt="Sarah Johnson" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Sarah Johnson</div>
                                    <div class="testimonial-role">Premium Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "Amazing support team and great earning opportunities. I've been able to supplement my income significantly through their program."
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/DeWatermark.ai_1751928721390.jpeg" alt="Michael Chen" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Michael Chen</div>
                                    <div class="testimonial-role">Gold Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "Professional, reliable, and profitable. The dashboard makes tracking my progress so easy. Best decision I've made this year!"
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/happy-woman.jpeg" alt="Emma Davis" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Emma Davis</div>
                                    <div class="testimonial-role">Elite Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "The referral system is fantastic. I've built a steady passive income stream while helping others discover this opportunity."
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/happy-team.jpg" alt="David Rodriguez" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">David Rodriguez</div>
                                    <div class="testimonial-role">VIP Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "Clear, honest, and rewarding. The platform delivers exactly what it promises. My earnings have exceeded expectations!"
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/woman-worker.jpg" alt="Lisa Thompson" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Lisa Thompson</div>
                                    <div class="testimonial-role">Diamond Member</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Duplicate cards for seamless loop -->
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "This platform has transformed my financial journey. The affiliate program is transparent and the earnings are consistent. Highly recommend!"
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/DeWatermark.ai_1751925469667.jpeg" alt="Sarah Johnson" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Sarah Johnson</div>
                                    <div class="testimonial-role">Premium Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "Amazing support team and great earning opportunities. I've been able to supplement my income significantly through their program."
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/DeWatermark.ai_1751928721390.jpeg" alt="Michael Chen" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Michael Chen</div>
                                    <div class="testimonial-role">Gold Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            <div class="testimonial-text">
                                "Professional, reliable, and profitable. The dashboard makes tracking my progress so easy. Best decision I've made this year!"
                            </div>
                            <div class="testimonial-author">
                                <img src="./assets/uploads/images/Drive/happy-woman.jpeg" alt="Emma Davis" class="testimonial-photo">
                                <div class="testimonial-info">
                                    <div class="testimonial-name">Emma Davis</div>
                                    <div class="testimonial-role">Elite Member</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom Action Cards Section -->
            <div class="bottom-actions-section">
                <h2 class="bottom-actions-title">Essential Tools</h2>
                <div class="bottom-actions-grid">
                    <a href="./daily-checkin.html" class="bottom-action-card">
                        <img src="./assets/uploads/images/Drive/checkin.webp" alt="Daily Check-in" class="bottom-action-card-image">
                        <div class="bottom-action-card-overlay"></div>
                        <div class="bottom-action-card-icon daily-checkin">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="bottom-action-card-content">
                            <div>
                                <h6>Daily Check-in</h6>
                                <p>Mark your daily attendance and earn bonus points for consistent participation</p>
                            </div>
                            <div class="bottom-action-status">
                                <i class="fas fa-clock"></i>
                                Check in today
                            </div>
                        </div>
                    </a>
                    
                    <a href="./electronic-contract.html" class="bottom-action-card">
                        <img src="./assets/uploads/images/Drive/contract.png" alt="Electronic Contract" class="bottom-action-card-image">
                        <div class="bottom-action-card-overlay"></div>
                        <div class="bottom-action-card-icon contract">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <div class="bottom-action-card-content">
                            <div>
                                <h6>Electronic Contract</h6>
                                <p>View and manage your affiliate agreements and contract documents securely</p>
                            </div>
                            <div class="bottom-action-status">
                                <i class="fas fa-shield-alt"></i>
                                Secure & Digital
                            </div>
                        </div>
                    </a>
                    
                    <a href="./chat/index.html" class="bottom-action-card">
                        <img src="./assets/uploads/images/Drive/customer-support.webp" alt="Customer Support" class="bottom-action-card-image">
                        <div class="bottom-action-card-overlay"></div>
                        <div class="bottom-action-card-icon support">
                            <i class="fas fa-headset"></i>
                        </div>
                        <div class="bottom-action-card-content">
                            <div>
                                <h6>Customer Support</h6>
                                <p>Get help from our dedicated support team available 24/7 for all your needs</p>
                            </div>
                            <div class="bottom-action-status">
                                <i class="fas fa-comments"></i>
                                Always available
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer Navigation -->
    <div id="footer-navigation"></div>

    <!-- Scripts -->    
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>    <script src="./js/components.js"></script>
    <script src="./js/i18n.js"></script>    <script src="./js/main.js"></script>
    <script src="./js/auth.js"></script>
    <script src="./js/simple-auth.js"></script>
    <script src="./js/auth-check.js"></script>
    <script src="./js/dashboard.js"></script>

    <script>        
    
        document.addEventListener('DOMContentLoaded', function() {
            // Load standard navigation components
            loadStandardNavigation();            // Initialize dashboard data (with better error handling)
            if (typeof checkAndInitializeDashboard === 'function') {
                try {
                    checkAndInitializeDashboard();
                } catch (error) {
                    console.error('Error in checkAndInitializeDashboard:', error);
                    // Continue with default dashboard if initialization fails
                }
            } else if (typeof initializeDashboard === 'function') {
                // Fallback to old method with error handling
                try {
                    const authData = isAuthenticated();
                    if (authData) {
                        initializeDashboard();
                    }
                } catch (error) {
                    console.error('Error in initializeDashboard:', error);
                    // Continue with default dashboard if initialization fails
                }
            }
            
            // Load user data (with error handling)
            try {
                loadUserDashboardData();
                // Also load chat unread count
                updateChatNotificationCount();
            } catch (error) {
                console.error('Error loading user dashboard data:', error);
                // Show default dashboard if user data loading fails
                showDefaultDashboard();
            }
            
            // Setup referral code copy functionality
            setupDashboardReferralCopy();
            
            // Setup menu button for sidebar
            const menuBtn = document.getElementById('menuBtn');
            if (menuBtn) {
                menuBtn.addEventListener('click', function() {
                    if (window.SidebarManager) {
                        window.SidebarManager.open();
                    } else if (typeof window.openSidebar === 'function') {
                        window.openSidebar();
                    }
                });
            }

            // Setup testimonials carousel navigation
            setupTestimonialsCarousel();
        });

        // Testimonials Carousel Navigation
        function setupTestimonialsCarousel() {
            const carousel = document.getElementById('testimonials-carousel');
            const leftBtn = document.getElementById('testimonials-left');
            const rightBtn = document.getElementById('testimonials-right');
            
            if (!carousel || !leftBtn || !rightBtn) return;
            
            let currentPosition = 0;
            const cardWidth = 320 + 24; // card width + gap
            const visibleCards = Math.floor(carousel.parentElement.offsetWidth / cardWidth);
            const totalCards = carousel.children.length;
            const maxPosition = Math.max(0, totalCards - visibleCards);
            
            function updateCarousel() {
                const translateX = -currentPosition * cardWidth;
                carousel.style.transform = `translateX(${translateX}px)`;
                
                // Update button states
                leftBtn.style.opacity = currentPosition === 0 ? '0.5' : '1';
                leftBtn.style.cursor = currentPosition === 0 ? 'not-allowed' : 'pointer';
                rightBtn.style.opacity = currentPosition >= maxPosition ? '0.5' : '1';
                rightBtn.style.cursor = currentPosition >= maxPosition ? 'not-allowed' : 'pointer';
            }
            
            leftBtn.addEventListener('click', function() {
                if (currentPosition > 0) {
                    currentPosition--;
                    updateCarousel();
                }
            });
            
            rightBtn.addEventListener('click', function() {
                if (currentPosition < maxPosition) {
                    currentPosition++;
                    updateCarousel();
                }
            });
            
            // Initialize
            updateCarousel();
            
            // Handle window resize
            window.addEventListener('resize', function() {
                const newVisibleCards = Math.floor(carousel.parentElement.offsetWidth / cardWidth);
                const newMaxPosition = Math.max(0, totalCards - newVisibleCards);
                
                if (currentPosition > newMaxPosition) {
                    currentPosition = newMaxPosition;
                }
                updateCarousel();
            });
        }
          // Function to setup referral code copy functionality
        function setupDashboardReferralCopy() {
            const copyBtn = document.getElementById('copy-dashboard-referral');
            const refcodeEl = document.getElementById('dashboard-refcode');
            
            if (copyBtn && refcodeEl) {
                copyBtn.addEventListener('click', function() {
                    const refcodeText = refcodeEl.textContent;
                    if (refcodeText && refcodeText !== 'Loading...' && refcodeText !== 'Error') {
                        // Extract just the code part (remove "REFERRAL CODE: " prefix if present)
                        const codeMatch = refcodeText.match(/([A-Z0-9]{8})/);
                        const code = codeMatch ? codeMatch[1] : refcodeText;
                        
                        if (typeof copyToClipboard === 'function') {
                            copyToClipboard(code, 'Referral code copied to clipboard!');
                            
                            // Enhanced visual feedback for new button
                            const icon = copyBtn.querySelector('i');
                            const text = copyBtn.childNodes[copyBtn.childNodes.length - 1];
                            const originalClass = icon.className;
                            const originalText = text.textContent.trim();
                            
                            // Change to success state
                            icon.className = 'fas fa-check';
                            text.textContent = ' Copied!';
                            copyBtn.classList.add('copied');
                            
                            setTimeout(() => {
                                icon.className = originalClass;
                                text.textContent = originalText;
                                copyBtn.classList.remove('copied');
                            }, 2000);
                        } else {
                            console.error('copyToClipboard function not available');
                        }
                    } else {
                        showNotification('No referral code available to copy', 'warning');
                    }
                });
            }
        }
        
        async function loadUserDashboardData() {
            try {
                // Check if user is authenticated using SimpleAuth first
                let isUserAuthenticated = false;
                
                if (typeof SimpleAuth !== 'undefined') {
                    isUserAuthenticated = SimpleAuth.isAuthenticated();
                } else if (typeof isAuthenticated === 'function') {
                    const authData = isAuthenticated();
                    isUserAuthenticated = authData && authData.token;
                } else {
                    // Fallback - check localStorage directly
                    const token = localStorage.getItem('auth_token');
                    isUserAuthenticated = !!token;
                }
                
                if (!isUserAuthenticated) {
                    // Show default dashboard without redirecting immediately
                    console.log('User not authenticated, showing default dashboard');
                    showDefaultDashboard();
                    return;
                }                // Check if fetchWithAuth is available, if not use SimpleAuth
                let fetchFunction = null;
                if (typeof SimpleAuth !== 'undefined' && SimpleAuth.authenticatedFetch) {
                    fetchFunction = SimpleAuth.authenticatedFetch.bind(SimpleAuth);
                } else if (typeof fetchWithAuth === 'function') {
                    fetchFunction = fetchWithAuth;
                } else {
                    console.error('No authenticated fetch function available');
                    showDefaultDashboard();
                    return;
                }                // Fetch user profile data
                console.log('Attempting to fetch profile data...');
                const response = await fetchFunction('/api/user/profile');
                console.log('Profile API raw response:', response);
                
                // Handle response based on the fetch function used
                let profileData;
                
                // Check if response is a Response object that needs to be parsed
                if (response && typeof response.json === 'function') {
                    // This is a Response object (from SimpleAuth), parse it
                    profileData = await response.json();
                } else if (response && typeof response === 'object') {
                    // This is already parsed data (from fetchWithAuth)
                    profileData = response;
                } else {
                    throw new Error('Invalid response format');
                }
                
                console.log('Dashboard profile API response:', profileData);                if (profileData.success && profileData.user) {
                    const user = profileData.user;
                    console.log('User data received:', user);
                    
                    // Update user info
                    if (user.username) {
                        const initials = generateUserInitials(user.username);
                        const userInitialsEl = document.getElementById('userInitials');
                        if (userInitialsEl) {
                            userInitialsEl.textContent = initials;
                            console.log('Updated user initials to:', initials);
                        }
                        
                        // Also update sidebar initials if sidebar is loaded
                        const sidebarInitials = document.getElementById('sidebar-user-initials');
                        if (sidebarInitials) {
                            sidebarInitials.textContent = initials;
                        }
                    }

                    // Update notification count
                    if (user.unreadNotifications !== undefined) {
                        const badge = document.getElementById('notificationCount');
                        if (badge) {
                            if (user.unreadNotifications > 0) {
                                badge.textContent = user.unreadNotifications;
                                badge.style.display = 'flex';
                            } else {
                                badge.style.display = 'none';
                            }
                        }
                    }// Fetch balance data separately for accuracy
                    try {
                        const balanceResponse = await fetchFunction('/api/user/balances');                        
                        // Handle response based on the fetch function used
                        let balanceData;
                        
                        // Check if response is a Response object that needs to be parsed
                        if (balanceResponse && typeof balanceResponse.json === 'function') {
                            // This is a Response object, parse it
                            balanceData = await balanceResponse.json();
                        } else if (balanceResponse && typeof balanceResponse === 'object') {
                            // This is already parsed data
                            balanceData = balanceResponse;
                        } else {
                            throw new Error('Invalid balance response format');
                        }
                        
                        console.log('Dashboard balance API response:', balanceData);
                        
                        if (balanceData.success && balanceData.balances) {
                            const balances = balanceData.balances;
                            const mainBalance = parseFloat(balances.main_balance || 0);
                            const commissionBalance = parseFloat(balances.commission_balance || 0);
                            const totalBalance = mainBalance + commissionBalance;
                            
                            // Update main balance display
                            // Update main balance display
                            const balanceEl = document.getElementById('depositBalance');
                            if (balanceEl) {
                                balanceEl.textContent = `$${totalBalance.toFixed(2)}`;
                            }
                            
                            // Update other balance fields if they exist
                            const depositBalanceEl = document.getElementById('depositBalance');
                            if (depositBalanceEl) {
                                depositBalanceEl.textContent = `$${mainBalance.toFixed(2)}`;
                            }
                            
                            console.log(`Updated balances - Main: $${mainBalance}, Commission: $${commissionBalance}, Total: $${totalBalance}`);
                        } else {
                            // Fallback to single balance from profile if balances API fails
                            const fallbackBalance = parseFloat(user.balance || 0);
                            // Fallback balance calculation
                            const balanceEl = document.getElementById('depositBalance');
                            if (balanceEl) {
                                balanceEl.textContent = `$${fallbackBalance.toFixed(2)}`;
                            }
                            console.log('Using fallback balance from profile:', fallbackBalance);
                        }
                    } catch (balanceError) {
                        console.error('Error fetching balance data:', balanceError);
                        // Use profile balance as fallback
                        const fallbackBalance = parseFloat(user.balance || 0);
                        // Final fallback
                        const balanceEl = document.getElementById('depositBalance');
                        if (balanceEl) {
                            balanceEl.textContent = `$${fallbackBalance.toFixed(2)}`;
                        }
                    }

                    // Update localStorage cache
                    localStorage.setItem('user_data', JSON.stringify(user));
                    
                    // Hide login button when authenticated
                    const loginBtn = document.getElementById('loginBtn');
                    if (loginBtn) {
                        loginBtn.style.display = 'none';
                    }                } else {
                    console.error('Profile API call failed:', profileData.message || 'Unknown error');
                    console.error('Full profile response:', profileData);
                    
                    // Show specific error message if available
                    if (profileData.message) {
                        showNotification(`Profile loading failed: ${profileData.message}`, 'error');
                    } else {
                        showNotification('Failed to load profile information', 'error');
                    }
                    
                    showDefaultDashboard();
                }
                  } catch (error) {
                console.error('Error loading dashboard data:', error);
                
                // Show specific error message to user
                if (error.message.includes('Authentication expired')) {
                    showNotification('Your session has expired. Please log in again.', 'warning');
                } else if (error.message.includes('401')) {
                    showNotification('Authentication required. Please log in to view your profile.', 'warning');
                } else if (error.message.includes('Network error')) {
                    showNotification('Network error. Please check your connection and try again.', 'error');
                } else {
                    showNotification(`Error loading profile: ${error.message}`, 'error');
                }
                
                // On error, show default dashboard instead of redirecting
                showDefaultDashboard();
            }
        }

        // Function to fetch and update chat unread count
        async function updateChatNotificationCount() {
            try {
                // Check if user is authenticated
                let isUserAuthenticated = false;
                
                if (typeof SimpleAuth !== 'undefined') {
                    isUserAuthenticated = SimpleAuth.isAuthenticated();
                } else if (typeof isAuthenticated === 'function') {
                    const authData = isAuthenticated();
                    isUserAuthenticated = authData && authData.token;
                } else {
                    const token = localStorage.getItem('auth_token');
                    isUserAuthenticated = !!token;
                }
                
                if (!isUserAuthenticated) {
                    // Hide notification badge for unauthenticated users
                    const badge = document.getElementById('notificationCount');
                    if (badge) {
                        badge.style.display = 'none';
                    }
                    return;
                }
                
                // Get fetch function
                let fetchFunction = null;
                if (typeof SimpleAuth !== 'undefined' && SimpleAuth.authenticatedFetch) {
                    fetchFunction = SimpleAuth.authenticatedFetch.bind(SimpleAuth);
                } else if (typeof fetchWithAuth === 'function') {
                    fetchFunction = fetchWithAuth;
                } else {
                    console.warn('No authenticated fetch function available for chat unread count');
                    return;
                }
                
                // Fetch unread chat count
                const response = await fetchFunction('/api/chat/unread-count');
                let unreadData;
                
                if (response && typeof response.json === 'function') {
                    unreadData = await response.json();
                } else if (response && typeof response === 'object') {
                    unreadData = response;
                } else {
                    throw new Error('Invalid unread count response format');
                }
                
                console.log('Chat unread count response:', unreadData);
                
                // Update notification badge
                const badge = document.getElementById('notificationCount');
                if (badge && unreadData && typeof unreadData.unread_count === 'number') {
                    if (unreadData.unread_count > 0) {
                        badge.textContent = unreadData.unread_count;
                        badge.style.display = 'flex';
                    } else {
                        badge.style.display = 'none';
                    }
                }
                
            } catch (error) {
                console.error('Error fetching chat unread count:', error);
                // Don't show error to user, just log it
            }
        }

        function showDefaultDashboard() {
            // Update with default/demo data - add null checks
            const userInitialsEl = document.getElementById('userInitials');
            if (userInitialsEl) {
                userInitialsEl.textContent = 'WU';
            }
            
            // Use depositBalance since currentBalance doesn't exist
            const balanceEl = document.getElementById('depositBalance');
            if (balanceEl) {
                balanceEl.textContent = '$0.00';
            }
            
            const withdrawBalanceEl = document.getElementById('withdrawBalance');
            if (withdrawBalanceEl) {
                withdrawBalanceEl.textContent = '$0.00';
            }
            
            // Hide notification badge
            const badge = document.getElementById('notificationCount');
            if (badge) {
                badge.style.display = 'none';
            }
            
            // Show login button
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.style.display = 'flex';
            }
        }

        // Function to refresh balance data independently
        async function refreshBalanceData() {
            try {
                const authData = isAuthenticated();
                if (!authData || typeof fetchWithAuth !== 'function') {
                    return;
                }

                const balanceData = await fetchWithAuth('/api/user/balances');
                if (balanceData.success && balanceData.balances) {
                    const balances = balanceData.balances;
                    const mainBalance = parseFloat(balances.main_balance || 0);
                    const commissionBalance = parseFloat(balances.commission_balance || 0);
                    const totalBalance = mainBalance + commissionBalance;
                    
                    // Update balance displays
                    // Update balance display
                    const balanceEl = document.getElementById('depositBalance');
                    if (balanceEl) {
                        balanceEl.textContent = `$${totalBalance.toFixed(2)}`;
                    }
                    
                    const depositBalanceEl = document.getElementById('depositBalance');
                    if (depositBalanceEl) {
                        depositBalanceEl.textContent = `$${mainBalance.toFixed(2)}`;
                    }
                    
                    console.log('Balance refreshed successfully');
                    return balances;
                }
            } catch (error) {
                console.error('Error refreshing balance:', error);
            }
        }

        // Make refresh function globally available
        window.refreshDashboardBalance = refreshBalanceData;        function updateDashboardUI(userData) {            // Update user avatar initials
            if (userData.username) {
                const initials = generateUserInitials(userData.username);
                document.getElementById('userInitials').textContent = initials;
                
                // Also update sidebar initials if sidebar is loaded
                const sidebarInitials = document.getElementById('sidebar-user-initials');
                if (sidebarInitials) {
                    sidebarInitials.textContent = initials;
                }
            }

            // Update balances (prefer separate balance API call)
            if (userData.balance !== undefined) {
                const balance = parseFloat(userData.balance || 0);
                // Update balance
                const balanceEl = document.getElementById('depositBalance');
                if (balanceEl) {
                    balanceEl.textContent = `$${balance.toFixed(2)}`;
                }
                
                const depositBalanceEl = document.getElementById('depositBalance');
                if (depositBalanceEl) {
                    depositBalanceEl.textContent = `$${balance.toFixed(2)}`;
                }
            }

            // Update notification count
            if (userData.unreadNotifications !== undefined) {
                const badge = document.getElementById('notificationCount');
                if (userData.unreadNotifications > 0) {
                    badge.textContent = userData.unreadNotifications;
                    badge.style.display = 'flex';
                } else {
                    badge.style.display = 'none';
                }
            }
            
            // Hide login button when authenticated
            const loginBtn = document.getElementById('loginBtn');
            if (loginBtn) {
                loginBtn.style.display = 'none';
            }
        }

        // Helper function to generate user initials properly
        function generateUserInitials(username) {
            if (!username) return 'U';
            
            // Remove extra spaces and split by space
            const nameParts = username.trim().split(/\s+/).filter(part => part.length > 0);
            
            if (nameParts.length === 0) return 'U';
            
            if (nameParts.length === 1) {
                // Single word username - take first 2 characters
                const name = nameParts[0];
                return name.length >= 2 ? name.substring(0, 2).toUpperCase() : name.toUpperCase();
            } else {
                // Multiple words - take first letter of each word (max 2)
                return nameParts.slice(0, 2).map(name => name[0]).join('').toUpperCase();
            }
        }

        // Add smooth scroll behavior for better UX
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
<script>
(async function() {
  // Check if carousel has already been loaded to prevent duplicate execution
  if (window.carouselLoaded) {
    console.warn('Carousel script already executed, skipping...');
    return;
  }
  window.carouselLoaded = true;
  
  console.log('Loading product carousel...');
  
  let products = [];
  try {
    // Use public endpoint that doesn't require authentication
    const response = await fetch('/api/products/carousel');
    
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    
    const data = await response.json();
    console.log('Carousel API response:', data);
    console.log('Number of products received:', data.products?.length || 0);
    
    if (!data.success || !Array.isArray(data.products)) {
      throw new Error('Invalid products response');
    }    products = data.products;
    
    // Log product IDs to check for duplicates
    const productIds = products.map(p => p.id);
    console.log('Product IDs received:', productIds);
    const uniqueIds = [...new Set(productIds)];
    console.log('Unique product IDs:', uniqueIds);
    if (productIds.length !== uniqueIds.length) {
      console.warn('DUPLICATE PRODUCTS DETECTED IN API RESPONSE!');
      console.log('Original count:', productIds.length, 'Unique count:', uniqueIds.length);
    }
    
    // Remove duplicates by name AND price (since same product can have different IDs)
    const uniqueProducts = [];
    const seenProducts = new Set();
    
    for (const product of products) {
      // Create a unique key based on name and price
      const productKey = `${product.name?.toLowerCase().trim()}_${product.price}`;
      
      if (!seenProducts.has(productKey)) {
        seenProducts.add(productKey);
        uniqueProducts.push(product);
      } else {
        console.log(`Skipping duplicate product: ${product.name} (ID: ${product.id})`);
      }
    }
    
    if (products.length !== uniqueProducts.length) {
      console.log(`Removed ${products.length - uniqueProducts.length} duplicate products`);
      console.log('Original count:', products.length, 'After deduplication:', uniqueProducts.length);
    }
    
    products = uniqueProducts;
    
  } catch (e) {
    console.error('Failed to load products from /api/products/carousel', e);
    document.getElementById('product-carousel-container').style.display = 'none';
    return;
  }

  // Products are already filtered for price > 5000 by the backend
  const highValue = products;

  if (!highValue.length) {
    console.log('No high-value products found');
    document.getElementById('product-carousel-container').style.display = 'none';
    return;
  }  console.log(`Rendering ${highValue.length} products in carousel`);
  // Render product cards with duplication for seamless loop
  const carousel = document.getElementById('product-carousel');
  if (!carousel) {
    console.error('Carousel container not found');
    return;
  }
  
  console.log('Current carousel HTML before clearing:', carousel.innerHTML.length > 0 ? 'Has content' : 'Empty');
  
  // Clear existing products to prevent duplication
  carousel.innerHTML = '';
  
  console.log('Carousel cleared, starting to render products...');
  
  // Function to create a product card
  function createProductCard(product, index, isClone = false) {
    const price = parseFloat(product.price || 0);
    
    // Determine if this is a merge data operation (you can modify this logic based on your product data)
    // For demo purposes, I'll use product name or category to determine this
    const isMergeData = product.name && (
      product.name.toLowerCase().includes('merge') || 
      product.name.toLowerCase().includes('data') ||
      product.name.toLowerCase().includes('analytics') ||
      product.name.toLowerCase().includes('integration') ||
      product.category === 'merge-data'
    );
    
    // Calculate commission based on operation type
    const commissionRate = isMergeData ? 0.06 : 0.02; // 6% for merge data, 2% for normal
    const commissionAmount = price * commissionRate;
    const commission = `$${commissionAmount.toFixed(2)}`; // Always use calculated commission rates
    const commissionPercentage = isMergeData ? '6%' : '2%';
    
    const name = (product.name||'').split(' ').slice(0,5).join(' ');
    const imgSrc = product.image_url || '/assets/uploads/products/newegg-1.jpg';
    const card = document.createElement('div');
    card.className = `product-card ${isClone ? 'clone' : 'original'}`;
    card.setAttribute('data-product-id', product.id);
    card.style.cursor = 'pointer';
    card.addEventListener('click', () => {
      window.location.href = 'task.html';
    });
    card.innerHTML = `
      <span class="product-badge">Platinum</span>
      <span class="commission-badge ${isMergeData ? 'merge-data' : ''}">${commissionPercentage}</span>
      <img src="${imgSrc}" alt="${name}">
      <div class="product-name">${name}</div>
      <div class="product-price-btn">$${price.toLocaleString()}</div>
      <div class="product-commission-btn">Earn ${commission}</div>
    `;
    return card;
  }
  
  // Add original items first
  highValue.forEach((product, index) => {
    console.log(`Rendering product ${index + 1}: ${product.name} (ID: ${product.id})`);
    const card = createProductCard(product, index, false);
    carousel.appendChild(card);
  });
  
  // Add clones of all items for seamless loop (this creates the infinite effect)
  highValue.forEach((product, index) => {
    console.log(`Rendering clone ${index + 1}: ${product.name} (ID: ${product.id})`);
    const card = createProductCard(product, index, true);
    carousel.appendChild(card);
  });
  
  console.log('Carousel rendered successfully');
  console.log('Final carousel children count:', carousel.children.length);
  
  // Calculate the animation duration based on number of products for consistent speed
  const cardWidth = 244; // 220px + 24px gap
  const totalWidth = highValue.length * cardWidth;
  const animationDuration = Math.max(20, totalWidth / 30); // Adjust speed as needed
  
  // Apply the calculated animation duration
  carousel.style.animationDuration = `${animationDuration}s`;
    console.log(`Animation duration set to: ${animationDuration}s for ${highValue.length} products`);
    // Set initial position to start of original items (skip the cloned items at the beginning)
//   const cardWidth = 260; // approximate width of each card including margin
  const cloneCount = highValue.length; // Number of cloned items equals number of original items
  const initialOffset = cloneCount * cardWidth;
  carousel.scrollLeft = initialOffset;

  // Carousel scroll logic with infinite loop
  const scrollAmount = 260;
  const leftButton = document.getElementById('carousel-left');
  const rightButton = document.getElementById('carousel-right');
  
  // Calculate dimensions for infinite loop
  const totalOriginalWidth = highValue.length * cardWidth;
  const cloneWidth = cloneCount * cardWidth;
    // Function to handle infinite loop transitions
  function handleInfiniteLoop() {
    const scrollLeft = carousel.scrollLeft;
    const maxScrollLeft = carousel.scrollWidth - carousel.clientWidth;
    
    console.log('Checking infinite loop:', { scrollLeft, maxScrollLeft, cloneWidth, totalOriginalWidth });
    
    // If we've scrolled past the end (into the cloned items at the end)
    if (scrollLeft >= maxScrollLeft - 20) { // Increased buffer for more reliable detection
      console.log('Jumping to start of original items');
      // Jump to the beginning of original items (skip clones at start)
      carousel.scrollLeft = cloneWidth;
    }
    // If we've scrolled before the beginning (into the cloned items at the start)
    else if (scrollLeft <= 20) { // Increased buffer
      console.log('Jumping to end of original items');
      // Jump to the end of original items (before clones at end)
      carousel.scrollLeft = cloneWidth + totalOriginalWidth - scrollAmount;
    }
  }
  
  if (leftButton && rightButton) {
    leftButton.onclick = () => {
      carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
      // Check for infinite loop after scroll animation
      setTimeout(handleInfiniteLoop, 300);
    };
    rightButton.onclick = () => {
      carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
      // Check for infinite loop after scroll animation
      setTimeout(handleInfiniteLoop, 300);
    };
    console.log('Carousel navigation buttons initialized');
    
    // Auto-rotation functionality with infinite loop
    let autoRotateInterval;
    const autoRotateDelay = 4000; // 4 seconds
    
    function startAutoRotate() {
      autoRotateInterval = setInterval(() => {
        carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        // Handle infinite loop after scroll
        setTimeout(handleInfiniteLoop, 300);
      }, autoRotateDelay);
    }
    
    function stopAutoRotate() {
      if (autoRotateInterval) {
        clearInterval(autoRotateInterval);
        autoRotateInterval = null;
      }
    }    
    // Start auto-rotation
    startAutoRotate();
      // Add scroll event listener for continuous infinite loop handling
    let scrollTimeout;
    carousel.addEventListener('scroll', () => {
      // Handle infinite loop on manual scroll too
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(handleInfiniteLoop, 100); // Allow scroll to settle
      
      // Pause and restart auto-rotation
      stopAutoRotate();
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(startAutoRotate, 2000); // Resume after 2 seconds of inactivity
    });
    
    // Pause auto-rotation on hover
    carousel.addEventListener('mouseenter', stopAutoRotate);
    carousel.addEventListener('mouseleave', startAutoRotate);
    
    // Pause auto-rotation when navigation buttons are used
    leftButton.addEventListener('click', () => {
      stopAutoRotate();
      setTimeout(startAutoRotate, 2000);
    });
    
    rightButton.addEventListener('click', () => {
      stopAutoRotate();
      setTimeout(startAutoRotate, 2000);
    });
      console.log('Carousel auto-rotation initialized');
  } else {
    console.error('Carousel navigation buttons not found');
  }
})();
</script>

<script>
// Partners Carousel Script
(async function() {
  if (window.partnersCarouselLoaded) {
    console.warn('Partners carousel script already executed, skipping...');
    return;
  }
  window.partnersCarouselLoaded = true;
  
  console.log('Loading partners carousel...');
  
  // Define partner data with images from the Partners folder
  const partners = [
    { name: 'Amazon', logo: './assets/uploads/images/Partners/Amazon-Logo-2000.png', url: 'https://amazon.com' },
    { name: 'Braun', logo: './assets/uploads/images/Partners/Braun-logo.png', url: 'https://braun.com' },
    { name: 'H&M', logo: './assets/uploads/images/Partners/H&M-Logo.svg.png', url: 'https://hm.com' },
    { name: 'HALSTON', logo: './assets/uploads/images/Partners/HALSTON_logo.png', url: 'https://halston.com' },
    { name: 'IKEA', logo: './assets/uploads/images/Partners/Ikea_logo.svg.png', url: 'https://ikea.com' },
    { name: 'Laurastar', logo: './assets/uploads/images/Partners/Laurastar.webp', url: 'https://laurastar.com' },
    { name: 'Rolex', logo: './assets/uploads/images/Partners/Logo_da_Rolex.png', url: 'https://rolex.com' },
    { name: 'Nike', logo: './assets/uploads/images/Partners/Logo_NIKE.svg', url: 'https://nike.com' },
    { name: 'Mephisto', logo: './assets/uploads/images/Partners/mephisto.png', url: 'https://mephisto.com' },
    { name: 'Movado', logo: './assets/uploads/images/Partners/Movado-Logo.png', url: 'https://movado.com' },
    { name: 'Nordstrom', logo: './assets/uploads/images/Partners/nordstrom.png', url: 'https://nordstrom.com' },
    { name: 'Omega', logo: './assets/uploads/images/Partners/Omega_Logo.svg', url: 'https://omegawatches.com' },
    { name: 'Philips', logo: './assets/uploads/images/Partners/Philips - logo (removeBG).png', url: 'https://philips.com' },
    { name: 'Senreve', logo: './assets/uploads/images/Partners/senreve.png', url: 'https://senreve.com' },
    { name: 'Vevor', logo: './assets/uploads/images/Partners/vevor.png', url: 'https://vevor.com' },
    { name: 'Vortex', logo: './assets/uploads/images/Partners/Vortex-Logo.png', url: 'https://vortexoptics.com' },
    { name: 'YoLink', logo: './assets/uploads/images/Partners/YOLINK_CIRCLE.webp', url: 'https://yolink.com' },
    { name: 'Entryway', logo: './assets/uploads/images/Partners/Entryway-white.png', url: 'https://entryway.com' }
  ];

  const carousel = document.getElementById('partners-carousel');
  if (!carousel) {
    console.error('Partners carousel container not found');
    return;
  }
  
  console.log('Current partners carousel HTML before clearing:', carousel.innerHTML.length > 0 ? 'Has content' : 'Empty');
  
  // Clear existing content
  carousel.innerHTML = '';
  
  console.log('Partners carousel cleared, starting to render partners...');
  
  // Function to create a partner card
  function createPartnerCard(partner, index, isClone = false) {
    const card = document.createElement('div');
    card.className = `partner-card ${isClone ? 'clone' : 'original'}`;
    card.setAttribute('data-partner-name', partner.name);
    card.style.cursor = 'pointer';
    
    // Add click handler to open partner website
    card.addEventListener('click', () => {
      window.open(partner.url, '_blank');
    });
    
    card.innerHTML = `
      <img src="${partner.logo}" alt="${partner.name}" loading="lazy">
    `;
    
    return card;
  }
  
  // Add original items first
  partners.forEach((partner, index) => {
    console.log(`Rendering partner ${index + 1}: ${partner.name}`);
    const card = createPartnerCard(partner, index, false);
    carousel.appendChild(card);
  });
  
  // Add clones for seamless loop
  partners.forEach((partner, index) => {
    console.log(`Rendering partner clone ${index + 1}: ${partner.name}`);
    const card = createPartnerCard(partner, index, true);
    carousel.appendChild(card);
  });
  
  console.log('Partners carousel rendered successfully');
  console.log('Final partners carousel children count:', carousel.children.length);
  
  // Calculate animation duration based on number of partners
  const partnerCardWidth = 212; // 180px + 32px gap
  const totalWidth = partners.length * partnerCardWidth;
  const animationDuration = Math.max(20, totalWidth / 40); // Slower than products
  
  // Apply the calculated animation duration
  carousel.style.animationDuration = `${animationDuration}s`;
  console.log(`Partners animation duration set to: ${animationDuration}s for ${partners.length} partners`);
  
})();

// Set up periodic chat notification updates
(function() {
    // Update chat notification count every 30 seconds
    setInterval(function() {
        updateChatNotificationCount();
    }, 30000);
    
    // Also update when page becomes visible (user switches back to tab)
    document.addEventListener('visibilitychange', function() {
        if (!document.hidden) {
            updateChatNotificationCount();
        }
    });
})();
</script>

<!-- Chat Widget -->
<link rel="stylesheet" href="./css/chat-widget.css">
<script src="./js/chat-widget.js"></script>
</body>
</html>