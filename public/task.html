<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <title data-i18n-title="taskPageTitle">Tasks - CDOT Database</title>
    <meta name="csrf-token" content="OMQEMMbTOijuw7VQQjJ3OJfRh0OxIoBZVH9aGGDe">
    <link rel="shortcut icon" href="./assets/uploads/cdot/logo.png">
    <link rel="icon" type="image/png" href="./assets/uploads/cdot/logo.png">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Legacy scripts for compatibility -->
    <script src="./assets/frontend/js/jquery.min.js"></script>
    
    <!-- Custom CSS for shared styles -->
    <link rel="stylesheet" href="css/task-account-styles.css">
    <!-- Sidebar Enhancement Styles -->
    <link rel="stylesheet" href="css/sidebar-fixes.css">
    <!-- Task page specific styles -->
    <link rel="stylesheet" href="css/task.css">
    <!-- Luxury Enhancement Styles -->
    <link rel="stylesheet" href="css/luxury-enhancement.css">
</head>
<body class="cdot-body">

<!-- Dashboard Header -->
<div id="dashboard-header-placeholder"></div>

<!-- Sidebar -->
<div id="sidebar-placeholder"></div>

<!-- Sidebar Overlay -->
<div class="bg-overlay" id="sidebarOverlay"></div>

<div class="cdot-app-container">
    <!-- Main Content -->
    <main class="gdot-main">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        Smarter Support<br>
                        For Independent<br>
                        Work
                    </h1>
                    <p class="hero-subtitle">
                        Working side by side on store campaigns<br>
                        help grow revenue while earning! <br>
                        No experience is needed<br>
                        â€”just consistency!
                    </p>
                    <button id="show-product-modal-btn" class="hero-cta-btn">SHOP NOW</button>
                </div>
                <div class="hero-image">
                    <div class="hero-carousel-container">
                        <div class="hero-carousel">
                            <div class="hero-slide active">
                                <img src="./assets/uploads/drive-pics/14.png" alt="Product 1" class="hero-product-image">
                            </div>
                            <div class="hero-slide">
                                <img src="./assets/uploads/drive-pics/159.png" alt="Product 2" class="hero-product-image">
                            </div>
                            <div class="hero-slide">
                                <img src="./assets/uploads/drive-pics/32.png" alt="Product 3" class="hero-product-image">
                            </div>
                            <div class="hero-slide">
                                <img src="./assets/uploads/drive-pics/63.png" alt="Product 4" class="hero-product-image">
                            </div>
                            <div class="hero-slide">
                                <img src="./assets/uploads/drive-pics/86.png" alt="Product 5" class="hero-product-image">
                            </div>
                            <div class="hero-slide">
                                <img src="./assets/uploads/drive-pics/93.png" alt="Product 6" class="hero-product-image">
                            </div>
                        </div>
                        
                        <!-- Carousel Navigation -->
                        <div class="hero-carousel-nav">
                            <button class="hero-nav-btn hero-prev-btn" aria-label="Previous">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="hero-nav-btn hero-next-btn" aria-label="Next">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        
                        <!-- Carousel Dots -->
                        <div class="hero-carousel-dots">
                            <button class="hero-dot active" data-slide="0"></button>
                            <button class="hero-dot" data-slide="1"></button>
                            <button class="hero-dot" data-slide="2"></button>
                            <button class="hero-dot" data-slide="3"></button>
                            <button class="hero-dot" data-slide="4"></button>
                            <button class="hero-dot" data-slide="5"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stats Grid -->
        <div class="gdot-stats-grid">
            <div class="gdot-stat-card">
                <div class="gdot-stat-icon blue">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="gdot-stat-content">
                    <h3 class="gdot-stat-label">Orders Completed</h3>
                    <p class="gdot-stat-value datadrive-orders">35</p>
                </div>
            </div>
            
            <div class="gdot-stat-card">
                <div class="gdot-stat-icon green">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="gdot-stat-content">
                    <h3 class="gdot-stat-label">Total Profit</h3>
                    <p class="gdot-stat-value datadrive-total-profit">$212.33</p>
                </div>
            </div>
            
            <div class="gdot-stat-card">
                <div class="gdot-stat-icon blue">
                    <i class="fas fa-file-invoice-dollar"></i>
                </div>
                <div class="gdot-stat-content">
                    <h3 class="gdot-stat-label">Balance</h3>
                    <p class="gdot-stat-value datadrive-balance">$405.01</p>
                </div>
            </div>
            
            <div class="gdot-stat-card">
                <div class="gdot-stat-icon blue">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="gdot-stat-content">
                    <h3 class="gdot-stat-label">Today's Profit</h3>
                    <p class="gdot-stat-value datadrive-todays-profit">$34.85</p>
                </div>
            </div>
        </div>

        <!-- Hidden original elements needed for drive functionality -->
        <input type="hidden" name="user_status" id="user_status" value="1">

        <!-- Trending Products -->
        <div class="gdot-trending-section">
            <h3 class="gdot-section-title">Trending Products</h3>
            <div class="trending-carousel-container">
                <div class="trending-carousel">
                    <div class="trending-slide active">
                        <img src="./assets/uploads/trending-pics/490.jpg" alt="Trending Product 1" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Premium Electronics</h4>
                            <p>Latest gadgets and accessories</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/491.jpg" alt="Trending Product 2" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Kitchen Appliances</h4>
                            <p>Cooking in Style</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/492.jpg" alt="Trending Product 3" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Home & Living</h4>
                            <p>Comfort and style in your day to day</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/493.jpg" alt="Trending Product 4" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Sports & Fitness</h4>
                            <p>Gear for active lifestyle</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/494.jpg" alt="Trending Product 5" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Collector's Items</h4>
                            <p>Once in a lifetime purchases</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/499.jpg" alt="Trending Product 6" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Tech Accessories</h4>
                            <p>Smart solutions for modern life</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/505.jpg" alt="Trending Product 7" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Interior Style</h4>
                            <p>Latest trends in home decor</p>
                        </div>
                    </div>
                    <div class="trending-slide">
                        <img src="./assets/uploads/trending-pics/530.jpg" alt="Trending Product 8" class="trending-product-image">
                        <div class="trending-product-overlay">
                            <h4>Luxury Items</h4>
                            <p>Premium quality products</p>
                        </div>
                    </div>
                </div>
                
                <!-- Carousel Navigation -->
                <div class="trending-carousel-nav">
                    <button class="trending-nav-btn trending-prev-btn" aria-label="Previous">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="trending-nav-btn trending-next-btn" aria-label="Next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <!-- Carousel Dots -->
                <div class="trending-carousel-dots">
                    <button class="trending-dot active" data-slide="0"></button>
                    <button class="trending-dot" data-slide="1"></button>
                    <button class="trending-dot" data-slide="2"></button>
                    <button class="trending-dot" data-slide="3"></button>
                    <button class="trending-dot" data-slide="4"></button>
                    <button class="trending-dot" data-slide="5"></button>
                    <button class="trending-dot" data-slide="6"></button>
                    <button class="trending-dot" data-slide="7"></button>
                </div>
                
                <!-- Product Grid Preview -->
                <div class="trending-grid-preview">
                    <div class="trending-grid-item" data-slide="0">
                        <img src="./assets/uploads/trending-pics/533.jpg" alt="Electronics">
                        <span>Electronics</span>
                    </div>
                    <div class="trending-grid-item" data-slide="1">
                        <img src="./assets/uploads/trending-pics/537.jpg" alt="Fashion">
                        <span>Fashion</span>
                    </div>
                    <div class="trending-grid-item" data-slide="2">
                        <img src="./assets/uploads/trending-pics/553.jpg" alt="Home">
                        <span>Gear</span>
                    </div>
                    <div class="trending-grid-item" data-slide="3">
                        <img src="./assets/uploads/trending-pics/555.jpg" alt="Sports">
                        <span>Sports</span>
                    </div>
                    <div class="trending-grid-item" data-slide="4">
                        <img src="./assets/uploads/trending-pics/571.jpg" alt="Beauty">
                        <span>Beauty</span>
                    </div>
                    <div class="trending-grid-item" data-slide="5">
                        <img src="./assets/uploads/trending-pics/586.jpg" alt="Tech">
                        <span>Tech</span>
                    </div>
                    <div class="trending-grid-item" data-slide="6">
                        <img src="./assets/uploads/trending-pics/605.jpg" alt="Gaming">
                        <span>Jewellery</span>
                    </div>
                    <div class="trending-grid-item" data-slide="7">
                        <img src="./assets/uploads/trending-pics/609.jpg" alt="Luxury">
                        <span>Home</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2025 Top Engagement Carousel -->
        <div class="gdot-engagement-carousel-section">
            <div class="gdot-engagement-carousel-header">
                <h3 class="gdot-section-title">2025 Top Engagement</h3>
                <p class="gdot-section-subtitle">Meet our most successful community members</p>
            </div>
            
            <div class="engagement-carousel-container">
                <div class="engagement-carousel">
                    <div class="engagement-card active">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user4.jpg" alt="Sarah" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">Sarah</h4>
                                <div class="engagement-earnings">$47,350</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"This platform transformed my financial future. The consistent earnings have allowed me to achieve goals I never thought possible!"</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="engagement-card">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user1.jpg" alt="Michael" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">Michael</h4>
                                <div class="engagement-earnings">$52,890</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"Amazing community and incredible results! I've been able to supplement my income significantly while working my regular job."</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="engagement-card">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user7.webp" alt="Jessica" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">Jessica</h4>
                                <div class="engagement-earnings">$41,275</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"The support system here is incredible. Every step of the way, I felt guided and supported in reaching my earning potential."</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="engagement-card">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user5.jpg" alt="David" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">David</h4>
                                <div class="engagement-earnings">$38,950</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"Started as a complete beginner and now I'm earning more than I ever imagined. The training and community made all the difference!"</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="engagement-card">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user6.webp" alt="Emma" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">Emma</h4>
                                <div class="engagement-earnings">$55,420</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"This platform gave me the financial freedom I was looking for. The earning potential is truly limitless with dedication!"</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                    
                    <div class="engagement-card">
                        <div class="engagement-card-header">
                            <img src="./assets/uploads/avatars/user7.webp" alt="Alex" class="engagement-avatar">
                            <div class="engagement-user-info">
                                <h4 class="engagement-name">Alex</h4>
                                <div class="engagement-earnings">$43,680</div>
                                <div class="engagement-period">This Year</div>
                            </div>
                        </div>
                        <div class="engagement-testimonial">
                            <i class="fas fa-quote-left quote-icon"></i>
                            <p>"What started as a side hustle became my main source of income. The consistency and reliability here are unmatched!"</p>
                        </div>
                        <div class="engagement-rating">
                            <div class="stars">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Carousel Navigation -->
                <div class="engagement-carousel-nav">
                    <button class="engagement-nav-btn engagement-prev-btn" aria-label="Previous">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="engagement-nav-btn engagement-next-btn" aria-label="Next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <!-- Carousel Dots -->
                <div class="engagement-carousel-dots">
                    <button class="engagement-dot active" data-slide="0"></button>
                    <button class="engagement-dot" data-slide="1"></button>
                    <button class="engagement-dot" data-slide="2"></button>
                    <button class="engagement-dot" data-slide="3"></button>
                    <button class="engagement-dot" data-slide="4"></button>
                    <button class="engagement-dot" data-slide="5"></button>
                </div>
            </div>
        </div>

        <!-- Original Engagement Table -->
            <div class="gdot-engagement-section">
                <div class="gdot-engagement-header">
                    <div class="gdot-badge-engagement">2025 Top Engagement</div>
                    <div class="gdot-people-icon">
                        <i class="fas fa-user"></i>
                        <i class="fas fa-user"></i>
                        <i class="fas fa-user"></i>
                    </div>
                </div>
            <div class="gdot-engagement-table">
                <div class="gdot-table-row">
                    <div class="gdot-user-info">
                        <img src="./assets/images/users/user1.jpg" alt="Louis Dupont" class="gdot-user-img">
                        <span class="gdot-user-name">Louis Dupont</span>
                    </div>
                    <div class="gdot-user-score">29.741</div>
                </div>
                
                <div class="gdot-table-row">
                    <div class="gdot-user-info">
                        <img src="./assets/images/users/user2.jpg" alt="Monica Barnett" class="gdot-user-img">
                        <span class="gdot-user-name">Monica Barnett</span>
                    </div>
                    <div class="gdot-user-score">25.490</div>
                </div>
                
                <div class="gdot-table-row">
                    <div class="gdot-user-info">
                        <img src="./assets/images/users/user3.jpg" alt="Emily Davis" class="gdot-user-img">
                        <span class="gdot-user-name">Emily Davis</span>
                    </div>
                    <div class="gdot-user-score">26.063</div>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- Modal for Frozen Account -->
<div class="modal fade" id="frozenAccountModal" tabindex="-1" aria-labelledby="frozenAccountModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-warning text-dark">
        <div class="d-flex align-items-center">
          <div class="icon-circle bg-warning text-dark me-3">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <div>
            <h5 class="modal-title mb-0" id="frozenAccountModalLabel">Get Back to PEA Drive</h5>
            <small class="text-muted">Action Required</small>
          </div>
        </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="alert alert-warning border-0 mb-4">
          <div class="d-flex align-items-start">
            <i class="fas fa-info-circle me-3 mt-1"></i>
            <div>
              <h6 class="alert-heading mb-2">Why is my account frozen?</h6>
              <p class="mb-0">Your account has been temporarily frozen due to insufficient balance during a drive operation. This is a protective measure to prevent negative balances.</p>
            </div>
          </div>
        </div>
        
        <div class="mb-4">
          <h6 class="fw-bold mb-3">Current Status:</h6>
          <div class="row">
            <div class="col-md-6">
              <div class="border rounded p-3 text-center">
                <i class="fas fa-wallet text-primary mb-2 d-block" style="font-size: 1.5rem;"></i>
                <small class="text-muted d-block">Available Balance</small>
                <strong id="modal-current-balance" class="text-primary">Loading...</strong>
              </div>
            </div>
            <div class="col-md-6">
              <div class="border rounded p-3 text-center">
                <i class="fas fa-dollar-sign text-success mb-2 d-block" style="font-size: 1.5rem;"></i>
                <small class="text-muted d-block">Amount Needed</small>
                <strong id="modal-amount-needed" class="text-success">Calculating...</strong>
              </div>
            </div>
          </div>
        </div>
        
        <div class="bg-light rounded p-3 mb-4">
          <h6 class="fw-bold mb-2">
            <i class="fas fa-lightbulb text-warning me-2"></i>
            How to resolve this:
          </h6>
          <ol class="mb-0 ps-3">
            <li>Make a deposit to add funds to your account</li>
            <li>Wait for the deposit to be confirmed</li>
            <li>Your account will be automatically unfrozen once sufficient funds are available</li>
            <li>If the issue persists, contact our support team</li>
          </ol>
        </div>
        
        <div class="text-center">
          <p class="text-muted mb-0">
            <i class="fas fa-shield-alt me-1"></i>
            Your account security and funds are protected during this process.
          </p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">I'll Handle This Later</button>
        <a href="deposits.html" class="btn btn-warning">
          <i class="fas fa-plus-circle me-2"></i>Make Deposit
        </a>
        <a href="support.html" class="btn btn-custom">
          <i class="fas fa-headset me-2"></i>Contact Support
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Drive Product Modal -->
<div class="drive-modal-overlay" id="driveProductModal" style="display: none;">
  <div class="drive-modal">
    <!-- Modal Header -->
    <div class="drive-modal-header">
      <button class="drive-modal-back" id="driveModalBack">
        <i class="fas fa-arrow-left"></i>
      </button>
      <button class="drive-modal-share">
        <i class="fas fa-share"></i>
      </button>
    </div>

    <!-- Product Image Section -->
    <div class="drive-product-image-section">
      <div class="drive-product-main-image">
        <img id="driveProductMainImage" src="./assets/images/products/iphone.jpg" alt="Product">
      </div>
      <div class="drive-product-thumbnails">
        <div class="drive-thumbnail active">
          <img src="./assets/images/products/iphone.jpg" alt="View 1">
        </div>
        <div class="drive-thumbnail">
          <img src="./assets/images/products/iphone-2.jpg" alt="View 2">
        </div>
        <div class="drive-thumbnail">
          <img src="./assets/images/products/iphone-3.jpg" alt="View 3">
        </div>
        <div class="drive-thumbnail-more">
          <span>+</span>
        </div>
      </div>
    </div>

    <!-- Product Info Section -->
    <div class="drive-product-info">
      <h2 class="drive-product-title" id="driveProductTitle">Apple iPhone 15, 128GB, Black â€“ Unlocked (Renewed)</h2>
      
      <!-- Rating Section -->
      <div class="drive-product-rating">
        <div class="drive-rating-stars">
          <span class="drive-rating-number">4.9</span>
          <div class="drive-stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
        </div>
        <div class="drive-rating-breakdown">
          <div class="drive-rating-bar">
            <span class="drive-rating-label">5</span>
            <div class="drive-rating-progress">
              <div class="drive-rating-fill" style="width: 86%"></div>
            </div>
            <span class="drive-rating-percent">86%</span>
          </div>
          <div class="drive-rating-bar">
            <span class="drive-rating-label">4</span>
            <div class="drive-rating-progress">
              <div class="drive-rating-fill" style="width: 10%"></div>
            </div>
            <span class="drive-rating-percent">10%</span>
          </div>
          <div class="drive-rating-bar">
            <span class="drive-rating-label">3</span>
            <div class="drive-rating-progress">
              <div class="drive-rating-fill" style="width: 2%"></div>
            </div>
            <span class="drive-rating-percent">2%</span>
          </div>
          <div class="drive-rating-bar">
            <span class="drive-rating-label">2</span>
            <div class="drive-rating-progress">
              <div class="drive-rating-fill" style="width: 1%"></div>
            </div>
            <span class="drive-rating-percent">1%</span>
          </div>
          <div class="drive-rating-bar">
            <span class="drive-rating-label">1</span>
            <div class="drive-rating-progress">
              <div class="drive-rating-fill" style="width: 1%"></div>
            </div>
            <span class="drive-rating-percent">1%</span>
          </div>
        </div>
        <p class="drive-reviews-count">437 reviews</p>
      </div>

      <!-- Product Details Link -->
      <button class="drive-product-details-btn">
        View Full Product Details
      </button>

      <!-- Earnings Section -->
      <div class="drive-earnings-section">
        <h3 class="drive-earnings-title">Earnings</h3>
        
        <div class="drive-earnings-grid">
          <div class="drive-earnings-item">
            <span class="drive-earnings-label">Purchase Price</span>
            <span class="drive-earnings-value" id="drivePurchasePrice">$24.99 USDT</span>
          </div>
          
          <div class="drive-earnings-item">
            <span class="drive-earnings-label">Your Commission</span>
            <span class="drive-earnings-value drive-commission" id="driveCommission">+ $0.50 USDT</span>
          </div>
          
          <div class="drive-earnings-item">
            <span class="drive-earnings-label">Net Result</span>
            <span class="drive-earnings-value" id="driveNetResult">$24.49 USDT</span>
          </div>
          
          <div class="drive-earnings-item">
            <span class="drive-earnings-label">Explanation</span>
            <span class="drive-earnings-explanation">You will receive a commission of 0.7% for this purchase.</span>
          </div>
        </div>
      </div>

      <!-- Purchase Button -->
      <button class="drive-purchase-btn" id="confirmDriveBtn">
        Confirm Purchase and Claim $0.50
      </button>

      <!-- Product Description -->
      <div class="drive-product-description">
        <h4>Product Description</h4>
        <p id="driveProductDescription">This renewed iPhone 15 is fully unlocked and compatible with any carrier. It has been professionally inspected, tested, and cleaned to like-new condition. Backed by a 90-day satisfaction guarantee.</p>
      </div>

      <!-- Refund Policy -->
      <div class="drive-refund-policy">
        <h4>Refund Policy</h4>
        <p>We process refunds instantly once your purchase order is confirmed. The refunded amount will appear in your account balance within moments.</p>
        <p class="drive-refund-contact">Refund delayed? <a href="support.html">Contact us now</a></p>
      </div>

      <!-- Info Tags -->
      <div class="drive-info-tags">
        <div class="drive-info-tag drive-tag-operating">
          <i class="fas fa-clock"></i>
          <div>
            <span class="drive-tag-label">Operating Hours</span>
            <span class="drive-tag-status">OPEN</span>
          </div>
        </div>
        
        <div class="drive-info-tag drive-tag-refund">
          <i class="fas fa-undo"></i>
          <div>
            <span class="drive-tag-label">Refund Policy</span>
            <span class="drive-tag-status">ACTIVE</span>
          </div>
        </div>
        
        <div class="drive-info-tag drive-tag-notice">
          <i class="fas fa-exclamation-triangle"></i>
          <div>
            <span class="drive-tag-label">Important Notice</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Purchase Success Popup -->
<div id="purchase-success-popup" class="purchase-success-popup">
  <div class="purchase-success-content">
    <div class="purchase-success-header">
      <h4>Success!</h4>
      <button id="purchase-popup-close" class="purchase-popup-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="purchase-success-body">
      <div class="success-icon">
        <i class="fas fa-check-circle"></i>
      </div>
      <p id="purchase-popup-message">Product successfully driven.</p>
    </div>
    <div class="purchase-success-footer">
      <button id="purchase-continue-btn" class="btn btn-primary">Continue</button>
    </div>
  </div>
</div>

<!-- Footer Navigation -->
<div id="footer-navigation"></div>

<script>let baseurl = '.';</script> <!-- Use relative base URL -->

<!-- Core dependencies -->
<script src="./assets/frontend/js/bootstrap.bundle.min.js"></script>
<script src="./js/components.js"></script>
<script src="./js/clean-header-loader.js"></script>
<script src="./js/i18n.js"></script>
<script src="./js/main.js"></script>
<script src="./js/auth-check.js"></script>

<!-- Owl Carousel JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<script>
    // If CDN fails, load from node_modules
    if (typeof $.fn.owlCarousel === 'undefined') {
        document.write('<script src="../node_modules/owl.carousel/dist/owl.carousel.min.js"><\/script>');
    }
</script>

<!-- Load general site script -->
<script src="./assets/frontend/js/script.js"></script>

<!-- Session data management -->
<script src="./js/session-data.js"></script>

<!-- Main Drive Script -->
<script src="./js/drive.js"></script>

<!-- Luxury Enhancement Scripts -->
<script src="./js/luxury-dynamic-gauges.js"></script>
<script src="./js/luxury-product-rating.js"></script>
<script src="./js/luxury-trending-products.js"></script>
<script src="./js/luxury-drive-enhancement.js"></script>

<!-- Task scripts -->
<script src="./js/task.js"></script>

<!-- Auth scripts -->
<script src="./js/auth.js"></script>
<script src="./js/simple-auth.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Load standard navigation components
        loadStandardNavigation('orders');
        
        // Wait for sidebar component to be loaded before initializing sidebar scripts
        const sidebarPlaceholder = document.getElementById('sidebar-placeholder');
        if (sidebarPlaceholder) {
            sidebarPlaceholder.addEventListener('componentLoaded', function() {
                // This will run after the sidebar component is fully loaded
                setTimeout(() => {
                    initializeSidebarScripts();
                    attachSidebarEventListeners();
                }, 100); // Small delay to ensure DOM is updated
            });
        }
        
        // Initialize hero carousel
        initHeroCarousel();
        
        // Initialize stats animations
        initStatsAnimations();
        
        // Initialize trending products carousel
        initTrendingCarousel();
        
        // Initialize engagement carousel
        initEngagementCarousel();
        
        // Initialize luxury features after basic page elements are ready
        setTimeout(() => {
            initializeLuxuryFeatures();
        }, 1500); // Reduced delay - enough time for core scripts but not too long
    });
    
    /**
     * Initialize Hero Carousel
     */
    function initHeroCarousel() {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.hero-dot');
        const prevBtn = document.querySelector('.hero-prev-btn');
        const nextBtn = document.querySelector('.hero-next-btn');
        const carouselContainer = document.querySelector('.hero-carousel-container');
        const totalSlides = slides.length;
        
        if (totalSlides === 0) return;
        
        // Auto-play interval
        let autoPlayInterval;
        let progressInterval;
        
        function showSlide(index) {
            // Remove active classes
            slides.forEach((slide, i) => {
                slide.classList.remove('active', 'prev', 'next');
                // Set appropriate classes for smooth transitions
                if (i === index) {
                    slide.classList.add('active');
                } else if (i === (index - 1 + totalSlides) % totalSlides) {
                    slide.classList.add('prev');
                } else if (i === (index + 1) % totalSlides) {
                    slide.classList.add('next');
                }
            });
            
            dots.forEach((dot, i) => {
                dot.classList.remove('active');
                if (i === index) {
                    dot.classList.add('active');
                }
            });
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        }
        
        function prevSlide() {
            currentSlide = currentSlide === 0 ? totalSlides - 1 : currentSlide - 1;
            showSlide(currentSlide);
        }
        
        function resetProgressAnimation() {
            // Reset the progress bar animation
            if (carouselContainer) {
                carouselContainer.style.animation = 'none';
                carouselContainer.offsetHeight; // Trigger reflow
                carouselContainer.style.animation = null;
            }
        }
        
        function startAutoPlay() {
            autoPlayInterval = setInterval(() => {
                nextSlide();
                resetProgressAnimation();
            }, 4000); // 4 seconds to match CSS animation
        }
        
        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }
        
        // Event listeners
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                nextSlide();
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 6000); // Longer pause after manual interaction
            });
        }
        
        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                prevSlide();
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 6000);
            });
        }
        
        // Dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 6000);
            });
        });
        
        // Touch/swipe support for mobile
        let startX = 0;
        let endX = 0;
        const carousel = document.querySelector('.hero-carousel');
        
        if (carousel) {
            carousel.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });
            
            carousel.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = startX - endX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        // Swipe left - next slide
                        nextSlide();
                    } else {
                        // Swipe right - previous slide
                        prevSlide();
                    }
                    resetProgressAnimation();
                    stopAutoPlay();
                    setTimeout(startAutoPlay, 6000);
                }
            }
        }
        
        // Pause on hover for PC
        if (carouselContainer) {
            carouselContainer.addEventListener('mouseenter', () => {
                stopAutoPlay();
                carouselContainer.style.animationPlayState = 'paused';
            });
            
            carouselContainer.addEventListener('mouseleave', () => {
                startAutoPlay();
                carouselContainer.style.animationPlayState = 'running';
            });
        }
        
        // Click on carousel to go to next slide
        if (carousel) {
            carousel.addEventListener('click', (e) => {
                // Only if click is not on navigation buttons
                if (!e.target.closest('.hero-nav-btn') && !e.target.closest('.hero-dot')) {
                    nextSlide();
                    resetProgressAnimation();
                    stopAutoPlay();
                    setTimeout(startAutoPlay, 4000);
                }
            });
        }
        
        // Initialize
        showSlide(0);
        startAutoPlay();
        
        console.log('âœ“ Hero Carousel initialized with', totalSlides, 'slides - Auto-rotation enabled');
    }
    
    /**
     * Initialize Stats Animations
     */
    function initStatsAnimations() {
        // Animate number counting
        function animateValue(element, start, end, duration, prefix = '', suffix = '') {
            if (!element) return;
            
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const currentValue = Math.floor(progress * (end - start) + start);
                
                // Format numbers with commas if they're large
                let displayValue = currentValue;
                if (currentValue >= 1000) {
                    displayValue = currentValue.toLocaleString();
                }
                
                element.textContent = prefix + displayValue + suffix;
                
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }
        
        // Add loading class and animate stats
        const statsElements = [
            { selector: '.datadrive-orders', value: 35, duration: 2000 },
            { selector: '.datadrive-total-profit', value: 212.33, duration: 2500, prefix: '$' },
            { selector: '.datadrive-balance', value: 405.01, duration: 2200, prefix: '$' },
            { selector: '.datadrive-todays-profit', value: 34.85, duration: 1800, prefix: '$' }
        ];
        
        setTimeout(() => {
            statsElements.forEach((stat, index) => {
                const element = document.querySelector(stat.selector);
                if (element) {
                    // Add loading effect
                    element.classList.add('loading');
                    
                    // Start animation after a staggered delay
                    setTimeout(() => {
                        element.classList.remove('loading');
                        
                        if (stat.prefix === '$') {
                            // For currency values, animate with decimals
                            let start = 0;
                            let startTimestamp = null;
                            const step = (timestamp) => {
                                if (!startTimestamp) startTimestamp = timestamp;
                                const progress = Math.min((timestamp - startTimestamp) / stat.duration, 1);
                                const currentValue = progress * stat.value;
                                element.textContent = stat.prefix + currentValue.toFixed(2);
                                
                                if (progress < 1) {
                                    window.requestAnimationFrame(step);
                                }
                            };
                            window.requestAnimationFrame(step);
                        } else {
                            // For integer values
                            animateValue(element, 0, stat.value, stat.duration, stat.prefix || '', stat.suffix || '');
                        }
                    }, index * 200); // Staggered start
                }
            });
        }, 500); // Initial delay
        
        // Add click handlers for stats cards
        const statCards = document.querySelectorAll('.gdot-stat-card');
        statCards.forEach((card, index) => {
            card.addEventListener('click', () => {
                // Add a subtle click animation
                card.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    card.style.transform = '';
                }, 150);
                
                // Optional: You can add functionality here like showing detailed stats
                console.log(`Stats card ${index + 1} clicked`);
            });
        });
        
        console.log('âœ“ Stats animations initialized');
    }
    
    /**
     * Initialize Trending Products Carousel
     */
    function initTrendingCarousel() {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.trending-slide');
        const dots = document.querySelectorAll('.trending-dot');
        const prevBtn = document.querySelector('.trending-prev-btn');
        const nextBtn = document.querySelector('.trending-next-btn');
        const carouselContainer = document.querySelector('.trending-carousel-container');
        const gridItems = document.querySelectorAll('.trending-grid-item');
        const totalSlides = slides.length;
        
        if (totalSlides === 0) return;
        
        // Auto-play interval
        let autoPlayInterval;
        
        function showSlide(index) {
            // Remove active classes
            slides.forEach((slide, i) => {
                slide.classList.remove('active', 'prev', 'next');
                if (i === index) {
                    slide.classList.add('active');
                } else if (i === (index - 1 + totalSlides) % totalSlides) {
                    slide.classList.add('prev');
                } else if (i === (index + 1) % totalSlides) {
                    slide.classList.add('next');
                }
            });
            
            dots.forEach((dot, i) => {
                dot.classList.remove('active');
                if (i === index) {
                    dot.classList.add('active');
                }
            });
            
            // Update grid items highlighting
            gridItems.forEach((item, i) => {
                if (i === index) {
                    item.style.transform = 'translateY(-5px)';
                    item.style.borderColor = 'rgba(255, 68, 68, 0.5)';
                    item.style.boxShadow = '0 8px 25px rgba(255, 68, 68, 0.2)';
                } else {
                    item.style.transform = '';
                    item.style.borderColor = 'transparent';
                    item.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.08)';
                }
            });
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        }
        
        function prevSlide() {
            currentSlide = currentSlide === 0 ? totalSlides - 1 : currentSlide - 1;
            showSlide(currentSlide);
        }
        
        function resetProgressAnimation() {
            if (carouselContainer) {
                carouselContainer.style.animation = 'none';
                carouselContainer.offsetHeight; // Trigger reflow
                carouselContainer.style.animation = null;
            }
        }
        
        function startAutoPlay() {
            autoPlayInterval = setInterval(() => {
                nextSlide();
                resetProgressAnimation();
            }, 3500); // 3.5 seconds for faster, more dynamic rotation
        }
        
        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }
        
        // Event listeners
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                nextSlide();
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 5000); // Consistent pause timing
            });
        }
        
        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                prevSlide();
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 5000);
            });
        }
        
        // Dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 5000); // Consistent pause timing
            });
        });
        
        // Grid item navigation
        gridItems.forEach((item, index) => {
            item.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
                resetProgressAnimation();
                stopAutoPlay();
                setTimeout(startAutoPlay, 5000); // Consistent pause timing
            });
        });
        
        // Touch/swipe support for mobile
        let startX = 0;
        let endX = 0;
        const carousel = document.querySelector('.trending-carousel');
        
        if (carousel) {
            carousel.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });
            
            carousel.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = startX - endX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                    resetProgressAnimation();
                    stopAutoPlay();
                    setTimeout(startAutoPlay, 5000); // Slightly longer pause after manual swipe
                }
            }
        }
        
        // Pause on hover
        if (carouselContainer) {
            carouselContainer.addEventListener('mouseenter', () => {
                stopAutoPlay();
                carouselContainer.style.animationPlayState = 'paused';
            });
            
            carouselContainer.addEventListener('mouseleave', () => {
                startAutoPlay();
                carouselContainer.style.animationPlayState = 'running';
            });
        }
        
        // Click on carousel to go to next slide
        if (carousel) {
            carousel.addEventListener('click', (e) => {
                if (!e.target.closest('.trending-nav-btn') && !e.target.closest('.trending-dot')) {
                    nextSlide();
                    resetProgressAnimation();
                    stopAutoPlay();
                    setTimeout(startAutoPlay, 3500); // Reduced pause time for more responsive feel
                }
            });
        }
        
        // Initialize
        showSlide(0);
        startAutoPlay();
        
        console.log('âœ“ Trending Products Carousel initialized with', totalSlides, 'slides');
    }
    
    /**
     * Initialize Engagement Carousel
     */
    function initEngagementCarousel() {
        let currentSlide = 0;
        const slides = document.querySelectorAll('.engagement-card');
        const dots = document.querySelectorAll('.engagement-dot');
        const prevBtn = document.querySelector('.engagement-prev-btn');
        const nextBtn = document.querySelector('.engagement-next-btn');
        const carouselContainer = document.querySelector('.engagement-carousel-container');
        const totalSlides = slides.length;
        
        if (totalSlides === 0) return;
        
        // Auto-play interval
        let autoPlayInterval;
        
        function showSlide(index) {
            // Remove active classes
            slides.forEach((slide, i) => {
                slide.classList.remove('active', 'prev', 'next');
                if (i === index) {
                    slide.classList.add('active');
                } else if (i === (index - 1 + totalSlides) % totalSlides) {
                    slide.classList.add('prev');
                } else if (i === (index + 1) % totalSlides) {
                    slide.classList.add('next');
                }
            });
            
            dots.forEach((dot, i) => {
                dot.classList.remove('active');
                if (i === index) {
                    dot.classList.add('active');
                }
            });
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            showSlide(currentSlide);
        }
        
        function prevSlide() {
            currentSlide = currentSlide === 0 ? totalSlides - 1 : currentSlide - 1;
            showSlide(currentSlide);
        }
        
        function resetProgressAnimation() {
            if (carouselContainer) {
                carouselContainer.style.animation = 'none';
                carouselContainer.offsetHeight; // Trigger reflow
                carouselContainer.style.animation = null;
            }
        }
        
        function startAutoPlay() {
            // Auto-play disabled for testimonials carousel
            // Users can manually navigate using buttons, dots, or swipe gestures
        }
        
        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }
        
        // Event listeners
        if (nextBtn) {
            nextBtn.addEventListener('click', () => {
                nextSlide();
                resetProgressAnimation();
            });
        }
        
        if (prevBtn) {
            prevBtn.addEventListener('click', () => {
                prevSlide();
                resetProgressAnimation();
            });
        }
        
        // Dot navigation
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                showSlide(currentSlide);
                resetProgressAnimation();
            });
        });
        
        // Touch/swipe support for mobile
        let startX = 0;
        let endX = 0;
        const carousel = document.querySelector('.engagement-carousel');
        
        if (carousel) {
            carousel.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });
            
            carousel.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = startX - endX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    if (diff > 0) {
                        nextSlide();
                    } else {
                        prevSlide();
                    }
                    resetProgressAnimation();
                }
            }
        }
        
        // Hover functionality removed since auto-play is disabled
        // Users can navigate manually using buttons, dots, or swipe gestures
        
        // Click on carousel to go to next slide
        if (carousel) {
            carousel.addEventListener('click', (e) => {
                if (!e.target.closest('.engagement-nav-btn') && !e.target.closest('.engagement-dot')) {
                    nextSlide();
                    resetProgressAnimation();
                }
            });
        }
        
        // Initialize
        showSlide(0);
        // Auto-play removed - users can navigate manually
        
        console.log('âœ“ Engagement Carousel initialized with', totalSlides, 'testimonials - Manual navigation only');
    }
    
    /**
     * Initialize all luxury enhancement features
     */
    function initializeLuxuryFeatures() {
        console.log('Initializing Luxury Drive Features...');
        
        try {
            // 1. Initialize Dynamic Gauges
            if (typeof window.LuxuryDynamicGauges !== 'undefined') {
                try {
                    window.LuxuryDynamicGauges.init();
                    console.log('âœ“ Luxury Dynamic Gauges initialized');
                } catch (error) {
                    console.warn('Failed to initialize Dynamic Gauges:', error);
                }
            }
            
            // 2. Initialize Trending Products Service
            if (typeof window.LuxuryTrendingProducts !== 'undefined') {
                try {
                    window.LuxuryTrendingProducts.init();
                    console.log('âœ“ Luxury Trending Products initialized');
                } catch (error) {
                    console.warn('Failed to initialize Trending Products:', error);
                }
            }
            
            // 3. Initialize Drive Enhancement
            if (typeof LuxuryDriveEnhancement !== 'undefined') {
                try {
                    const driveEnhancement = new LuxuryDriveEnhancement();
                    driveEnhancement.init();
                    console.log('âœ“ Luxury Drive Enhancement initialized');
                } catch (error) {
                    console.warn('Failed to initialize Drive Enhancement:', error);
                    // Ensure search button still works if enhancement fails
                    ensureSearchButtonWorks();
                }
            } else {
                // Fallback if luxury enhancement not available
                ensureSearchButtonWorks();
            }
            
            // 4. Ensure Product Rating Modal is globally available
            if (typeof LuxuryProductRatingModal !== 'undefined') {
                window.LuxuryProductRatingModal = LuxuryProductRatingModal;
                console.log('âœ“ Luxury Product Rating Modal available');
            }
            
            console.log('Luxury Drive Features initialization complete!');
        } catch (error) {
            console.error('Error during luxury features initialization:', error);
            // Ensure basic functionality works even if luxury features fail
            ensureSearchButtonWorks();
        }
    }
    
    /**
     * Fallback to ensure search button works
     */
    function ensureSearchButtonWorks() {
        const searchButton = document.getElementById('show-product-modal-btn');
        if (searchButton && typeof window.openProductModal !== 'function') {
            console.log('Setting up fallback search button functionality');
            
            // If openProductModal doesn't exist, create a basic version
            window.openProductModal = function() {
                const driveModal = document.getElementById('driveProductModal');
                if (driveModal) {
                    driveModal.style.display = 'flex';
                    setTimeout(() => {
                        driveModal.classList.add('show');
                    }, 10);
                    document.body.style.overflow = 'hidden';
                    console.log('Fallback: Drive modal opened');
                } else {
                    console.warn('Fallback: Drive modal not found');
                }
            };
        }
    }
</script>

<!-- Chat Widget -->
<link rel="stylesheet" href="./css/chat-widget.css">
<script src="./js/chat-widget.js"></script>

<!-- Footer -->
<div id="footer-placeholder"></div>

<script>
    // Load footer
    fetch('./components/footer.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('footer-placeholder').innerHTML = data;
        })
        .catch(error => console.error('Error loading footer:', error));
</script>
</body>
</html>